{
    "docs": [
        {
            "location": "/", 
            "text": "\u6b22\u8fce\u6765\u5230Pan!\n\n\nPan\u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684\u5b89\u5353MV*\u6846\u67b6\uff0c\u5e2e\u52a9\u68b3\u7406\u5b89\u5353\u7684\u524d\u7aef\u4ee3\u7801\u3002\n\n\n\u4f7f\u7528Pan\u5c06\u5927\u5927\u51cf\u5c11Activity\u7684\u4ee3\u7801\uff0c\u4f7f\u5f97Activity\u7684\u4ee3\u7801\u7f29\u51cf\u5230100\u884c\u751a\u81f350\u884c\u4ee5\u5185\u3002\n\u540c\u65f6\uff0c\u5927\u5927\u63d0\u5347\u754c\u9762\u4ee3\u7801\u7684\u53ef\u590d\u7528\u6027\uff0c\u63d0\u5347\u4ee3\u7801\u7684\u53ef\u7ef4\u62a4\u6027\u3002\n\n\nDemo\n\n\npublic\n \nclass\n \nMainActivity\n \nextends\n \nPanActivity\n \n{\n\n\n    \nMainViewModel\n \nmMainViewModel\n;\n\n\n    \n@Override\n\n    \nprotected\n \nvoid\n \nonCreate\n(\nBundle\n \nsavedInstanceState\n)\n \n{\n\n        \nsuper\n.\nonCreate\n(\nsavedInstanceState\n);\n\n        \nsetContentView\n(\nR\n.\nlayout\n.\nactivity_main\n);\n\n\n        \nmMainViewModel\n \n=\n \nPan\n.\nwith\n(\nthis\n,\n \nMainViewModel\n.\nclass\n)\n\n                \n.\ncontrolledBy\n(\nMainController\n.\nclass\n)\n\n                \n.\ngetViewModel\n()\n\n                \n.\nsetHelloString\n(\nhello Pan!\n)\n\n                \n.\nrender\n();\n \n    \n}\n\n\n    \n//Done! \n\n    \n//No need for more codes!\n\n\n}\n\n\n\n\n\n\n\u8fd8\u7b49\u4ec0\u4e48\uff1f\nGetting Started!\n\n\nFeatures\n\n\n\n\n\u6838\u5fc3\uff1a\u638f\u7a7aActivity\u7684\u4ee3\u7801\n\n\n\u5206\u79bb\u6e32\u67d3\u903b\u8f91(ViewModel)\u3001\u63a7\u5236\u903b\u8f91(Controller)\n\n\n\u590d\u7528\u9875\u9762\u90e8\u4ef6\uff0c\u5305\u62ecXML\u548cViewModel\uff0c\u4e14\u4e0eActivity/Fragment\u89e3\u8026\n\n\n\u590d\u7528\u4e1a\u52a1\u903b\u8f91\uff0c\u5373Controller\n\n\n\u517c\u5bb9\u5df2\u6709\u4ee3\u7801\uff0c\u65e0\u4fb5\u5165\u6027\n\n\n\u63d2\u4ef6\u5316\uff0c\u6613\u4e8e\u62d3\u5c55\uff0c\u65b9\u4fbf\n\n\n\u6a21\u578b\u4e2d\u7acb\uff0c\u53ef\u4ee5Data-Binding\u7ed3\u5408\u62d3\u5c55\u6210MVVM\u6846\u67b6\uff0c\u4e5f\u53ef\u4ee5\u6309\u7167\u7279\u5b9a\u7684\u4f7f\u7528\u4e60\u60ef\u5f53\u505aMVP\u6846\u67b6\n\n\n\n\n\u5b9e\u9645\u4e0a\uff0c\u7531\u4e8eViewModel\u548cActivity/Fragment\u89e3\u8026\uff0c\u53ef\u4ee5\u8ba9\u6846\u67b6\u7684\u7075\u6d3b\u5ea6\u76f4\u63a5\u4e0a\u4e00\u4e2a\u53f0\u9636\uff0c\u5b8c\u6210\u5f88\u591a\u4e4b\u524d\u96be\u4ee5\u505a\u5230\u7684\u9700\u6c42\uff0c\u4f8b\u5982\uff1a\n\n\n\n\n\u7c7b\u4f3c\nConductor\n\uff0c\u5168\u5c40\u4f7f\u7528\u4e00\u4e2aActivity\uff0c\u901a\u8fc7\u8def\u7531\u5207\u6362View\u3002\u8fd9\u4e2a\u53ea\u9700\u8981\u7ed9Pan\u5199\u4e00\u4e2a\u8def\u7531\u63d2\u4ef6\u5373\u53ef\uff0cViewModel\u5bf9\u5f53\u524d\u6240\u5904\u73af\u5883\u5e76\u4e0d\u5173\u5fc3\u3002\n\n\n\n\nMV*\u6a21\u578b\n\n\nPan\u7684\u6a21\u578b\u6bd4MVC\u3001MVP\u3001MVVM\u66f4\u52a1\u5b9e\uff0c\u53ea\u8ffd\u6c42\u5b9e\u9645\u4f7f\u7528\u4e2d\u7684\u6613\u4e8e\u4e0a\u624b\uff0c\u548c\u4e0a\u8ff0\u8bbe\u8ba1\u76ee\u6807\u7684\u5b9e\u73b0\uff0c\u6211\u4eec\u53ef\u4ee5\u79f0\u4e4b\u4e3a\nMVW(Whatever)\n\u3002\n\n\n\u4f46\u4f60\u4ecd\u7136\u53ef\u4ee5\u628aPan\u5f53\u505aMVP\u3001MVVM\u6846\u67b6\u4f7f\u7528\uff0c\u4f8b\u5982Pan\u53ef\u4ee5\u76f4\u63a5\n\u7b49\u4ef7\u5230Mosby(MVP)\u7684\u4ee3\u7801\n\u3002\n\n\n\u8be6\u7ec6\u7684\u8bbe\u8ba1\u601d\u8def\u548c\u54f2\u5b66\uff0c\u8bf7\u53c2\u8003\nPan\u7684\u7b80\u4ecb\u548c\u8bbe\u8ba1\u601d\u8def", 
            "title": "Home"
        }, 
        {
            "location": "/#pan", 
            "text": "Pan\u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684\u5b89\u5353MV*\u6846\u67b6\uff0c\u5e2e\u52a9\u68b3\u7406\u5b89\u5353\u7684\u524d\u7aef\u4ee3\u7801\u3002  \u4f7f\u7528Pan\u5c06\u5927\u5927\u51cf\u5c11Activity\u7684\u4ee3\u7801\uff0c\u4f7f\u5f97Activity\u7684\u4ee3\u7801\u7f29\u51cf\u5230100\u884c\u751a\u81f350\u884c\u4ee5\u5185\u3002\n\u540c\u65f6\uff0c\u5927\u5927\u63d0\u5347\u754c\u9762\u4ee3\u7801\u7684\u53ef\u590d\u7528\u6027\uff0c\u63d0\u5347\u4ee3\u7801\u7684\u53ef\u7ef4\u62a4\u6027\u3002", 
            "title": "\u6b22\u8fce\u6765\u5230Pan!"
        }, 
        {
            "location": "/#demo", 
            "text": "public   class   MainActivity   extends   PanActivity   { \n\n     MainViewModel   mMainViewModel ; \n\n     @Override \n     protected   void   onCreate ( Bundle   savedInstanceState )   { \n         super . onCreate ( savedInstanceState ); \n         setContentView ( R . layout . activity_main ); \n\n         mMainViewModel   =   Pan . with ( this ,   MainViewModel . class ) \n                 . controlledBy ( MainController . class ) \n                 . getViewModel () \n                 . setHelloString ( hello Pan! ) \n                 . render ();  \n     } \n\n     //Done!  \n     //No need for more codes!  }   \u8fd8\u7b49\u4ec0\u4e48\uff1f Getting Started!", 
            "title": "Demo"
        }, 
        {
            "location": "/#features", 
            "text": "\u6838\u5fc3\uff1a\u638f\u7a7aActivity\u7684\u4ee3\u7801  \u5206\u79bb\u6e32\u67d3\u903b\u8f91(ViewModel)\u3001\u63a7\u5236\u903b\u8f91(Controller)  \u590d\u7528\u9875\u9762\u90e8\u4ef6\uff0c\u5305\u62ecXML\u548cViewModel\uff0c\u4e14\u4e0eActivity/Fragment\u89e3\u8026  \u590d\u7528\u4e1a\u52a1\u903b\u8f91\uff0c\u5373Controller  \u517c\u5bb9\u5df2\u6709\u4ee3\u7801\uff0c\u65e0\u4fb5\u5165\u6027  \u63d2\u4ef6\u5316\uff0c\u6613\u4e8e\u62d3\u5c55\uff0c\u65b9\u4fbf  \u6a21\u578b\u4e2d\u7acb\uff0c\u53ef\u4ee5Data-Binding\u7ed3\u5408\u62d3\u5c55\u6210MVVM\u6846\u67b6\uff0c\u4e5f\u53ef\u4ee5\u6309\u7167\u7279\u5b9a\u7684\u4f7f\u7528\u4e60\u60ef\u5f53\u505aMVP\u6846\u67b6   \u5b9e\u9645\u4e0a\uff0c\u7531\u4e8eViewModel\u548cActivity/Fragment\u89e3\u8026\uff0c\u53ef\u4ee5\u8ba9\u6846\u67b6\u7684\u7075\u6d3b\u5ea6\u76f4\u63a5\u4e0a\u4e00\u4e2a\u53f0\u9636\uff0c\u5b8c\u6210\u5f88\u591a\u4e4b\u524d\u96be\u4ee5\u505a\u5230\u7684\u9700\u6c42\uff0c\u4f8b\u5982\uff1a   \u7c7b\u4f3c Conductor \uff0c\u5168\u5c40\u4f7f\u7528\u4e00\u4e2aActivity\uff0c\u901a\u8fc7\u8def\u7531\u5207\u6362View\u3002\u8fd9\u4e2a\u53ea\u9700\u8981\u7ed9Pan\u5199\u4e00\u4e2a\u8def\u7531\u63d2\u4ef6\u5373\u53ef\uff0cViewModel\u5bf9\u5f53\u524d\u6240\u5904\u73af\u5883\u5e76\u4e0d\u5173\u5fc3\u3002", 
            "title": "Features"
        }, 
        {
            "location": "/#mv", 
            "text": "Pan\u7684\u6a21\u578b\u6bd4MVC\u3001MVP\u3001MVVM\u66f4\u52a1\u5b9e\uff0c\u53ea\u8ffd\u6c42\u5b9e\u9645\u4f7f\u7528\u4e2d\u7684\u6613\u4e8e\u4e0a\u624b\uff0c\u548c\u4e0a\u8ff0\u8bbe\u8ba1\u76ee\u6807\u7684\u5b9e\u73b0\uff0c\u6211\u4eec\u53ef\u4ee5\u79f0\u4e4b\u4e3a MVW(Whatever) \u3002  \u4f46\u4f60\u4ecd\u7136\u53ef\u4ee5\u628aPan\u5f53\u505aMVP\u3001MVVM\u6846\u67b6\u4f7f\u7528\uff0c\u4f8b\u5982Pan\u53ef\u4ee5\u76f4\u63a5 \u7b49\u4ef7\u5230Mosby(MVP)\u7684\u4ee3\u7801 \u3002  \u8be6\u7ec6\u7684\u8bbe\u8ba1\u601d\u8def\u548c\u54f2\u5b66\uff0c\u8bf7\u53c2\u8003 Pan\u7684\u7b80\u4ecb\u548c\u8bbe\u8ba1\u601d\u8def", 
            "title": "MV*\u6a21\u578b"
        }, 
        {
            "location": "/Getting_Started/", 
            "text": "Getting Started\n\n\nPan\u4f9d\u8d56\n\n\n    \nrepositories\n \n{\n\n        \n//jitpack repository\n\n        \nmaven\n \n{\n \nurl\n \nhttps://jitpack.io\n \n}\n\n    \n}\n\n\n    \ndependencies\n \n{\n\n        \ncompile\n \ncom.github.campusappcn:Pan:0.4.0\n\n    \n}\n\n\n\n\n\n\nMainAcitivity\n\n\n\u9996\u5148\uff0c\u662f\u8f7b\u91cf\u5316\u7684Activity\u4ee3\u7801\uff0c\u4e3b\u8981\u901a\u8fc7Pan\u7684\u5de5\u5382\u65b9\u6cd5with\uff0c\u5f97\u5230ViewModel\u7684\u5b9e\u4f8b\uff0c\u7ed1\u5b9aViewModel\u548cController\u5230Activity\u4e0a\u3002\u5de5\u5382\u65b9\u6cd5with\u6709\u5f88\u591a\u91cd\u8f7d\uff0c\u4e5f\u53ef\u4ee5\u4f20\u5165\u4f7f\u7528\u5b9e\u4f8b\u5316\u597d\u7684\u5bf9\u8c61\u3002\n\n\npublic\n \nclass\n \nMainActivity\n \nextends\n \nPanActivity\n \n{\n  \n//\u9700\u8981\u7ee7\u627fPanActivity\uff0c\u4e5f\u53ef\u4ee5\u81ea\u5b9a\u4e49\uff0c\u89c1components\u7ae0\u8282\n\n\n    \nMainViewModel\n \nmMainViewModel\n;\n\n\n    \n@Override\n\n    \nprotected\n \nvoid\n \nonCreate\n(\nBundle\n \nsavedInstanceState\n)\n \n{\n\n        \nsuper\n.\nonCreate\n(\nsavedInstanceState\n);\n\n        \nsetContentView\n(\nR\n.\nlayout\n.\nactivity_main\n);\n\n\n        \nmMainViewModel\n \n=\n \nPan\n.\nwith\n(\nthis\n,\n \nMainViewModel\n.\nclass\n)\n\n                \n.\ncontrolledBy\n(\nMainController\n.\nclass\n)\n\n                \n.\ngetViewModel\n()\n\n                \n.\nsetHelloString\n(\nhello Pan!\n)\n\n                \n.\nrender\n();\n\n    \n}\n\n\n\n}\n\n\n\n\n\n\nHow clean! \u4e8b\u5b9e\u4e0a\uff0c\u5e38\u89c1\u7684Activity\u4e2d\u9700\u8981\u5b9e\u73b0\u7684onResume\u7b49\u65b9\u6cd5\uff0c\u4e5f\u65e0\u9700\u5199\u5728\u8fd9\u91cc\uff0c\u53ef\u4ee5\u5b8c\u5168\u4ea4\u7ed9Controller\u3002\n\n\nMainViewModel\n\n\n\u63a5\u4e0b\u6765\u7f16\u5199\u5177\u4f53ViewModel\u5b9e\u73b0\u7c7b\u3002ViewModel\u4e3b\u8981\u5b8c\u6210\u6e32\u67d3\u903b\u8f91\uff0c\u56e0\u6b64ViewModel\u7684\u6210\u5458\u53d8\u91cf\u5305\u542b\u4e24\u79cd\uff1a\n\n\n\n\n\u4ee5v\u4f5c\u4e3a\u524d\u7f00\u7684View\u5bf9\u8c61\n\n\n\u4ee5m\u4f5c\u4e3a\u524d\u7f00\u7684ViewModel\u5177\u4f53\u7684\u5b57\u6bb5\n\n\n\n\nrender\u65b9\u6cd5\u8d1f\u8d23\u5c06ViewModel\u5b57\u6bb5\u6e32\u67d3\u5230View\u4e0a \n\n\n@Xml\n(\nR\n.\nlayout\n.\nactivity_main\n)\n \n//\u53ef\u9009\uff0c\u8ba9ViewModel\u8bed\u4e49\u66f4\u660e\u786e\u3002\u5f53\u9700\u8981\u81ea\u5df1\u5b9e\u4f8b\u5316\u65b0View\u65f6\u5fc5\u9009\u3002\n\n\npublic\n \nclass\n \nMainViewModel\n \nextends\n \nGeneralViewModel\n \n{\n\n\n    \n@Bind\n(\nR\n.\nid\n.\nhello\n)\n \n//Butterknife\n\n    \nButton\n \nvHelloTv\n;\n\n\n    \nString\n \nmHelloString\n;\n\n\n    \n@Override\n\n    \npublic\n \nMainViewModel\n \nrender\n()\n \n{\n\n        \nvHelloTv\n.\nsetText\n(\nmHelloString\n);\n\n        \nreturn\n \nthis\n;\n\n    \n}\n\n\n    \npublic\n \nMainViewModel\n \nsetHelloString\n(\nString\n \nstring\n)\n \n{\n\n        \nmHelloString\n \n=\n \nstring\n;\n\n        \nreturn\n \nthis\n;\n\n    \n}\n\n\n}\n\n\n\n\n\n\nMainController\n\n\n\u5176\u6b21\uff0c\u662fController\u5b9e\u73b0\u7c7b\u3002\u5f53\u7136\u4e00\u4e2aView\u4e0d\u5fc5\u8981\u6709Controller\uff0c\u5982\u679c\u4e0d\u9700\u8981\u76d1\u542c\u4efb\u4f55\u4e8b\u4ef6\u7684\u8bdd\u3002\nController\u901a\u8fc7\u6cdb\u578b\u53c2\u6570\uff0c\u4e0eViewModel\u5b9e\u73b0\u7ed1\u5b9a\uff0c\u53ef\u4ee5\u5904\u7406\u4e24\u7c7b\u4e8b\u4ef6\uff1a\n\n\n\n\n\u7528\u6237\u4ea4\u4e92\uff0c\u901a\u8fc7bindEvents()\u65b9\u6cd5\u5b9e\u73b0\uff0c$vm\u4e3a\u7ed1\u5b9a\u7684ViewModel\u5bf9\u8c61\n\n\n\u6240\u5904Activity/Fragment\u7684\u751f\u547d\u5468\u671f\uff0c\u901a\u8fc7\u5b9e\u73b0\u63a5\u53e3\uff08\u4f8b\u5982\uff0cOnResume\uff09\u8fdb\u884c\u76d1\u542c\n\n\n\n\npublic\n \nclass\n \nMainController\n \nextends\n \nGeneralController\nMainViewModel\n \n        \nimplements\n \nOnResume\n \n{\n \n//\u4ee5\u76d1\u542cActivity\u7684OnResume\u4e8b\u4ef6\n\n\n    \n@Override\n\n    \nprotected\n \nvoid\n \nbindEvents\n()\n \n{\n\n        \n$vm\n.\nvHelloTv\n.\nsetOnClickListener\n(\nnew\n \nView\n.\nOnClickListener\n()\n \n{\n\n            \n@Override\n\n            \npublic\n \nvoid\n \nonClick\n(\nView\n \nv\n)\n \n{\n\n                \nToast\n.\nmakeText\n(\ngetActivity\n(),\n \n$vm\n.\nmHelloString\n,\n \nToast\n.\nLENGTH_SHORT\n).\nshow\n();\n\n            \n}\n\n        \n});\n\n    \n}\n\n\n    \n@Override\n\n    \npublic\n \nvoid\n \nonResume\n()\n \n{\n\n        \nLog\n.\nd\n(\nMainController\n,\n \nOn Resume For \n \n+\n \ngetActivity\n());\n\n    \n}\n\n\n}\n\n\n\n\n\n\nlayout.xml\n\n\n\u5bf9\u5e94\u7684\u5e03\u5c40XML:\n\n\n?xml version=\n1.0\n encoding=\nutf-8\n?\n\n\nLinearLayout\n \nxmlns:android=\nhttp://schemas.android.com/apk/res/android\n\n              \nandroid:orientation=\nvertical\n\n              \nandroid:layout_width=\nmatch_parent\n\n              \nandroid:layout_height=\nmatch_parent\n\n\n    \nButton\n\n        \nandroid:id=\n@+id/hello\n\n        \nandroid:text=\nHello World!\n\n        \nandroid:layout_width=\nwrap_content\n\n        \nandroid:layout_height=\nwrap_content\n/\n\n\n\n\n/LinearLayout", 
            "title": "Getting Started"
        }, 
        {
            "location": "/Getting_Started/#getting-started", 
            "text": "", 
            "title": "Getting Started"
        }, 
        {
            "location": "/Getting_Started/#pan", 
            "text": "repositories   { \n         //jitpack repository \n         maven   {   url   https://jitpack.io   } \n     } \n\n     dependencies   { \n         compile   com.github.campusappcn:Pan:0.4.0 \n     }", 
            "title": "Pan\u4f9d\u8d56"
        }, 
        {
            "location": "/Getting_Started/#mainacitivity", 
            "text": "\u9996\u5148\uff0c\u662f\u8f7b\u91cf\u5316\u7684Activity\u4ee3\u7801\uff0c\u4e3b\u8981\u901a\u8fc7Pan\u7684\u5de5\u5382\u65b9\u6cd5with\uff0c\u5f97\u5230ViewModel\u7684\u5b9e\u4f8b\uff0c\u7ed1\u5b9aViewModel\u548cController\u5230Activity\u4e0a\u3002\u5de5\u5382\u65b9\u6cd5with\u6709\u5f88\u591a\u91cd\u8f7d\uff0c\u4e5f\u53ef\u4ee5\u4f20\u5165\u4f7f\u7528\u5b9e\u4f8b\u5316\u597d\u7684\u5bf9\u8c61\u3002  public   class   MainActivity   extends   PanActivity   {    //\u9700\u8981\u7ee7\u627fPanActivity\uff0c\u4e5f\u53ef\u4ee5\u81ea\u5b9a\u4e49\uff0c\u89c1components\u7ae0\u8282 \n\n     MainViewModel   mMainViewModel ; \n\n     @Override \n     protected   void   onCreate ( Bundle   savedInstanceState )   { \n         super . onCreate ( savedInstanceState ); \n         setContentView ( R . layout . activity_main ); \n\n         mMainViewModel   =   Pan . with ( this ,   MainViewModel . class ) \n                 . controlledBy ( MainController . class ) \n                 . getViewModel () \n                 . setHelloString ( hello Pan! ) \n                 . render (); \n     }  }   How clean! \u4e8b\u5b9e\u4e0a\uff0c\u5e38\u89c1\u7684Activity\u4e2d\u9700\u8981\u5b9e\u73b0\u7684onResume\u7b49\u65b9\u6cd5\uff0c\u4e5f\u65e0\u9700\u5199\u5728\u8fd9\u91cc\uff0c\u53ef\u4ee5\u5b8c\u5168\u4ea4\u7ed9Controller\u3002", 
            "title": "MainAcitivity"
        }, 
        {
            "location": "/Getting_Started/#mainviewmodel", 
            "text": "\u63a5\u4e0b\u6765\u7f16\u5199\u5177\u4f53ViewModel\u5b9e\u73b0\u7c7b\u3002ViewModel\u4e3b\u8981\u5b8c\u6210\u6e32\u67d3\u903b\u8f91\uff0c\u56e0\u6b64ViewModel\u7684\u6210\u5458\u53d8\u91cf\u5305\u542b\u4e24\u79cd\uff1a   \u4ee5v\u4f5c\u4e3a\u524d\u7f00\u7684View\u5bf9\u8c61  \u4ee5m\u4f5c\u4e3a\u524d\u7f00\u7684ViewModel\u5177\u4f53\u7684\u5b57\u6bb5   render\u65b9\u6cd5\u8d1f\u8d23\u5c06ViewModel\u5b57\u6bb5\u6e32\u67d3\u5230View\u4e0a   @Xml ( R . layout . activity_main )   //\u53ef\u9009\uff0c\u8ba9ViewModel\u8bed\u4e49\u66f4\u660e\u786e\u3002\u5f53\u9700\u8981\u81ea\u5df1\u5b9e\u4f8b\u5316\u65b0View\u65f6\u5fc5\u9009\u3002  public   class   MainViewModel   extends   GeneralViewModel   { \n\n     @Bind ( R . id . hello )   //Butterknife \n     Button   vHelloTv ; \n\n     String   mHelloString ; \n\n     @Override \n     public   MainViewModel   render ()   { \n         vHelloTv . setText ( mHelloString ); \n         return   this ; \n     } \n\n     public   MainViewModel   setHelloString ( String   string )   { \n         mHelloString   =   string ; \n         return   this ; \n     }  }", 
            "title": "MainViewModel"
        }, 
        {
            "location": "/Getting_Started/#maincontroller", 
            "text": "\u5176\u6b21\uff0c\u662fController\u5b9e\u73b0\u7c7b\u3002\u5f53\u7136\u4e00\u4e2aView\u4e0d\u5fc5\u8981\u6709Controller\uff0c\u5982\u679c\u4e0d\u9700\u8981\u76d1\u542c\u4efb\u4f55\u4e8b\u4ef6\u7684\u8bdd\u3002\nController\u901a\u8fc7\u6cdb\u578b\u53c2\u6570\uff0c\u4e0eViewModel\u5b9e\u73b0\u7ed1\u5b9a\uff0c\u53ef\u4ee5\u5904\u7406\u4e24\u7c7b\u4e8b\u4ef6\uff1a   \u7528\u6237\u4ea4\u4e92\uff0c\u901a\u8fc7bindEvents()\u65b9\u6cd5\u5b9e\u73b0\uff0c$vm\u4e3a\u7ed1\u5b9a\u7684ViewModel\u5bf9\u8c61  \u6240\u5904Activity/Fragment\u7684\u751f\u547d\u5468\u671f\uff0c\u901a\u8fc7\u5b9e\u73b0\u63a5\u53e3\uff08\u4f8b\u5982\uff0cOnResume\uff09\u8fdb\u884c\u76d1\u542c   public   class   MainController   extends   GeneralController MainViewModel  \n         implements   OnResume   {   //\u4ee5\u76d1\u542cActivity\u7684OnResume\u4e8b\u4ef6 \n\n     @Override \n     protected   void   bindEvents ()   { \n         $vm . vHelloTv . setOnClickListener ( new   View . OnClickListener ()   { \n             @Override \n             public   void   onClick ( View   v )   { \n                 Toast . makeText ( getActivity (),   $vm . mHelloString ,   Toast . LENGTH_SHORT ). show (); \n             } \n         }); \n     } \n\n     @Override \n     public   void   onResume ()   { \n         Log . d ( MainController ,   On Resume For    +   getActivity ()); \n     }  }", 
            "title": "MainController"
        }, 
        {
            "location": "/Getting_Started/#layoutxml", 
            "text": "\u5bf9\u5e94\u7684\u5e03\u5c40XML:  ?xml version= 1.0  encoding= utf-8 ?  LinearLayout   xmlns:android= http://schemas.android.com/apk/res/android \n               android:orientation= vertical \n               android:layout_width= match_parent \n               android:layout_height= match_parent \n\n     Button \n         android:id= @+id/hello \n         android:text= Hello World! \n         android:layout_width= wrap_content \n         android:layout_height= wrap_content /  /LinearLayout", 
            "title": "layout.xml"
        }, 
        {
            "location": "/Components/", 
            "text": "Components \u7ec4\u4ef6\n\n\n\u8be6\u7ec6\u4ecb\u7ecdPan\u7684\u7ec4\u6210\u548c\u4f7f\u7528\u65b9\u6cd5\u3002\n\n\nViewModel\u548cPan\u5de5\u5382\n\n\nViewModel\u662f\u6574\u4e2a\u6846\u67b6\u4e2d\u7684\u6838\u5fc3\uff0c\u63a5\u53e3\u5b9a\u4e49\u5982\u4e0b\uff1a\n\n\npublic\n \ninterface\n \nViewModel\n \n{\n\n\n    \nViewModel\n \nrender\n();\n\n\n    \nView\n \ngetRootView\n();\n\n\n}\n\n\n\n\n\n\nrender\u65b9\u6cd5\u8d1f\u8d23\u5b8c\u6210\u6e32\u67d3\u64cd\u4f5c\uff0c\u800crootView\u662f\u5f53\u524d\u6e32\u67d3\u7684\u6700\u9876\u5c42\u7684View\u3002ViewModel\u7684\u57fa\u7840\u5b9e\u73b0\u662f\nGeneralViewModel\n\u3002\n\n\nGeneralViewModel\n\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u529f\u80fd\uff1a\n\n\n\n\n@Bind\u6ce8\u89e3\u81ea\u52a8\u6ce8\u5165View\u3002\uff08\u5e95\u5c42\u7531\nButterknife\n\u652f\u6301\uff09\n\n\n\u6301\u6709\u5f53\u524d\u7684Context\uff0c\u4e00\u5b9a\u6709Activity\u7684\u5f15\u7528\uff0c\u5982\u679c\u5728Fragment\u4e2d\uff0c\u5219\u6709Fragment\u7684\u5f15\u7528\n\n\n\u652f\u6301\u7ed1\u5b9a\u4e00\u4e2a\nGeneralController\n\n\n\n\n\u4e00\u822c\u6765\u8bf4\uff0cViewModel\u7684\u5b9e\u4f8b\u5316\u53ef\u4ee5\u901a\u8fc7Pan\u5de5\u5382\u6765\u5b8c\u6210\uff0c\u53ea\u9700\u544a\u8bc9Pan\u5de5\u5382\u4f7f\u7528\u4f55\u7c7b\u578b\u7684ViewModel\uff0cPan\u5de5\u5382\u4f1a\u8d1f\u8d23\u5b9e\u4f8b\u5316ViewModel\u3002\u5f53\u7136\uff0c\u4e5f\u53ef\u4ee5\u81ea\u884c\u5b9e\u4f8b\u5316ViewModel\uff0c\u8fd9\u5728\u5185\u90e8\u7c7b\u7684\u573a\u666f\u65f6\u53ef\u4ee5\u4f7f\u7528\uff0c\u7136\u540e\u5c06ViewModel\u5bf9\u8c61\u4f20\u5165Pan\u5de5\u5382\uff0c\u4ee5\u8fdb\u4e00\u6b65\u7ed1\u5b9aView\u548cController\u3002\n\n\nPan\uff1aPanActivity\u4e2d\u4f7f\u7528\n\n\n@Override\n\n\nprotected\n \nvoid\n \nonCreate\n(\nBundle\n \nsavedInstanceState\n){\n\n    \nsuper\n.\nonCreate\n(\nsavedInstanceState\n);\n\n    \nsetContentView\n(\nR\n.\nlayout\n.\nactivity_main\n);\n\n\n    \nMainViewModel\n \nvm\n \n=\n \nPan\n.\nwith\n(\nthis\n,\n \nMainViewModel\n.\nclass\n)\n\n        \n.\ngetViewModel\n();\n \n//\u76f4\u63a5\u4f7f\u7528Activity\u7684decorView\u7684\u7b2c\u4e00\u4e2a\u5b50View\u4f5c\u4e3arootView\n\n\n    \nvm\n.\nrender\n();\n\n\n}\n\n\n\n\n\n\n\u5728Activity\u4e2d\uff0c\u9700\u8981\u5728onCreate\u4e2d\u5b8c\u6210\u5de5\u5382\u5b9e\u4f8b\u5316\u8fc7\u7a0b\u3002\u76f4\u63a5\u4f7f\u7528\u65e0\u53c2\u6570\u7684getViewModel()\u5de5\u5382\u65b9\u6cd5\u83b7\u5f97ViewModel\u5b9e\u4f8b\u3002\u6b64\u65f6\uff0cgetRootView()\u8fd4\u56de\u7684\u662fActivity\u7684decorView\u7684\u7b2c\u4e00\u4e2a\u5b50View\uff0c\u5373\u6574\u4e2a\u9875\u9762\u7684\u6839View\u3002\n\n\n\u6ce8\u610f\uff0c\u8fd9\u91cc\u8981\u6c42Activity\u5b9e\u73b0LifecycleObserved\u63a5\u53e3\uff0c\u53ef\u4ee5\u901a\u8fc7\u76f4\u63a5\u7ee7\u627f\nPanActivity\n\u5b8c\u6210\uff0c\u4e5f\u53ef\u4ee5\u5728\u81ea\u5b9a\u4e49\u7684Activity\u4e2d\uff0c\u4eff\u5199\nPanActivity\n\u7684\u4ee3\u7801\u5e76\u5b9e\u73b0\nLifecycleObserved\n\u63a5\u53e3\u3002\u53c2\u8003\n\u81ea\u5b9a\u4e49PanActivity/PanFragment\n\u3002\n\n\nPan\uff1aPanFragment\u4e2d\u4f7f\u7528\uff08Adapter\u540c\u7406\uff09\n\n\n@Override\n\n\npublic\n \nView\n \nonCreateView\n(\nLayoutInflater\n \ninflater\n,\n \nViewGroup\n \ncontainer\n,\n \nBundle\n \nsavedInstanceState\n)\n \n{\n\n\n    \nMainViewModel\n \nvm\n \n=\n \nPan\n.\nwith\n(\nthis\n,\n \nMainViewModel\n.\nclass\n)\n\n        \n.\ngetViewModel\n(\ncontainer\n,\n \nnull\n,\n \nfalse\n);\n\n\n    \nvm\n.\nrender\n();\n\n\n    \nreturn\n \nvm\n.\ngetRootView\n();\n \n//\u5de5\u5382\u65b9\u6cd5\u6839\u636e@Xml\u6ce8\u89e3\u521b\u5efa\u7684View\n\n\n}\n\n\n\n@Xml\n(\nR\n.\nlayout\n.\nactivity_main\n)\n \n//\u6b64\u65f6@Xml\u6ce8\u89e3\u4e3a\u5fc5\u987b\n\n\npublic\n \nstatic\n \nclass\n \nMainViewModel\n \nextends\n \nGeneralViewModel\n{\n\n    \n//...\n\n\n}\n\n\n\n\n\n\n\u5728Fragment\u7684onCreateView\u65b9\u6cd5\u4e2d\uff0c\u5b8c\u6210\u5de5\u5382\u7684\u5b9e\u4f8b\u5316\u8fc7\u7a0b\u3002Fragment\u7684onCreateView\u9700\u8981\u8fd4\u56de\u4e00\u4e2a\u65b0\u521b\u5efa\u7684View\uff0c\u56e0\u6b64\uff0cPan\u5de5\u5382\u5728\u521b\u5efaViewModel\u7684\u540c\u65f6\uff0c\u53ef\u4ee5\u5b8c\u6210\u521b\u5efaView\u7684\u8fc7\u7a0b\u3002\u4f7f\u7528\ngetViewModel(ViewGroup, View, attach)\n\u7684\u91cd\u8f7d\uff0c\u53ef\u4ee5\u50cf\u8c03\u7528inflat\u65b9\u6cd5\u4e00\u6837\uff0c\u521b\u5efa\u4e00\u4e2a\u65b0\u7684View\u3002\u800c\u8fd9\u4e2aView\u7684Xml\uff0c\u5219\u6765\u81ea\u4e8eMainViewModel\u7684\n@Xml\n\u6ce8\u89e3\u3002\n\n\n\u6ce8\u610f\uff0c\u8fd9\u91cc\u8981\u6c42Fragment\u5b9e\u73b0\nLifecycleObserved\n\u63a5\u53e3\uff0c\u53ef\u4ee5\u901a\u8fc7\u76f4\u63a5\u7ee7\u627f\nPanFramgent\n\u5b8c\u6210\uff0c\u4e5f\u53ef\u4ee5\u5728\u81ea\u5b9a\u4e49\u7684Fragment\u4e2d\uff0c\u4eff\u5199\nPanFramgent\n\u7684\u4ee3\u7801\u5e76\u5b9e\u73b0\nLifecycleObserved\n\u63a5\u53e3\u3002\u53c2\u8003\n\u81ea\u5b9a\u4e49PanActivity/PanFragment\n\u3002\n\n\n\u5b89\u5353\u4e2d\uff0c\u754c\u9762\u90e8\u4ef6\u7684\u91cd\u8981\u573a\u666f\u662f\u5728ListView\u7684Adapter\u4e2d\uff0c\u6216\u8005RecyclerView\u7684\u573a\u666f\u4e2d\uff0c\u5728\u8fd9\u4e9bAdapter\u4e2d\uff0c\u4e5f\u9700\u8981\u5b9e\u4f8b\u5316\u65b0\u7684View\uff0c\u4ee5\u53ca\u4f7f\u7528ViewHolder\u6a21\u5f0f\u91cd\u7528\u73b0\u6709\u7684View\u3002\nPan\u6846\u67b6\u539f\u751f\u652f\u6301ViewHolder\u6a21\u5f0f\uff0c\u4f7f\u7528\u8005\u65e0\u9700\u518d\u81ea\u5df1\u4fdd\u5b58View\u7684\u5b9e\u4f8b\u3002\u53c2\u8003\nViewHolder\u6a21\u5f0f\u548c\u5d4c\u5957\u4f7f\u7528\n\u56e0\u6b64\uff0c\u5728Adapter\u7684getView\u65b9\u6cd5\u4e2d\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u672c\u65b9\u6cd5\u3002\u5373\uff1a\n\n\n@Override\n\n\npublic\n \nView\n \ngetView\n(\nint\n \nposition\n,\n \nView\n \nconvertView\n,\n \nViewGroup\n \nparent\n)\n \n{\n\n    \nreturn\n \nPan\n.\nwith\n(\ngetActivity\n(),\n \nMainViewModel\n.\nclass\n)\n\n              \n.\ngetViewModel\n(\nparent\n,\n \nconvertView\n,\n \nfalse\n);\n//convertView\u4f1a\u81ea\u52a8\u91cd\u7528\u7ed1\u5b9a\u7684ViewModel\n\n\n}\n\n\n\n\n\n\nPan\uff1aView\u4e2d\u4f7f\u7528\n\n\n\u9664\u4e86\u4e0a\u8ff0\u4e24\u79cd\u4e3b\u8981\u573a\u666f\u5916\uff0c\u5176\u4ed6\u4efb\u4f55\u901a\u8fc7\u5df2\u7ecf\u6709\u5b9e\u4f8b\u5316\u597d\u7684View\u7684\u60c5\u51b5\uff0c\u90fd\u53ef\u4ee5\u5c06View\u76f4\u63a5\u7ed1\u5b9a\u5230ViewModel\u4e0a\uff0c\u4ee5\u8fdb\u884c\u6e32\u67d3\u548c\u63a7\u5236\u3002\u6b64\u65f6\uff0cViewHolder\u6a21\u5f0f\u540c\u6837\u4f1a\u53d1\u751f\u4f5c\u7528\uff0c\u5982\u679cView\u4e0a\u9762\u5df2\u7ecf\u7ed1\u5b9a\u4e86\u4e00\u4e2a\u76f8\u540c\u7c7b\u578b\u7684ViewModel\uff0c\u5c06\u4f1a\u76f4\u63a5\u91cd\u7528\u3002\n\n\n\u540c\u65f6\uff0cPan\u4e5f\u652f\u6301\u4e00\u4e2aView\u88ab\u591a\u6b21\u7ed1\u5b9a\u5230\u4e0d\u540c\u7c7b\u578b\u7684ViewModel\u4e0a\uff0c\u6240\u4ee5\uff0c\u4e0d\u7528\u62c5\u5fc3\u4e0d\u540c\u7c7b\u578b\u7684ViewModel\u4f1a\u88ab\u8986\u76d6\u7ed1\u5b9a\u7684\u60c5\u51b5\u3002\u4f46\u6ce8\u610f\uff0c\u540c\u7c7b\u578b\u7684ViewModel\u7684\u91cd\u590d\u7ed1\u5b9a\uff0c\u662f\u65e0\u6548\u7684\u3002\n\n\nPan\n.\nwith\n(\ngetActivity\n(),\n \nMainViewModel\n.\nclass\n)\n\n    \n.\ngetViewModel\n(\nview\n);\n\n\n\n\n\n\nController\n\n\nController\u7684\u57fa\u672c\u7528\u6cd5\u5f88\u7b80\u5355\uff0c\u53ef\u4ee5\u76f4\u63a5\u7ee7\u627fGeneralController\uff0c\u5e76\u901a\u8fc7\u6cdb\u578b\u6307\u5b9a\u7ed1\u5b9a\u7684ViewModel\n\n\npublic\n \nclass\n \nMainController\n \nextends\n \nGeneralController\nMainViewModel\n \n{\n\n    \n@Override\n \nprotected\n \nvoid\n \nbindEvents\n()\n \n{\n\n    \n}\n\n\n}\n\n\n\n//\u5728\u5de5\u5382\u65b9\u6cd5\u76f4\u63a5\u6307\u5b9aController\u5373\u53ef\n\n\nPan\n.\nwith\n(\ngetActivity\n(),\n \nMainViewModel\n.\nclass\n)\n\n    \n.\ncontrolledBy\n(\nMainController\n.\nclass\n)\n\n    \n.\ngetViewModel\n();\n\n\n\n\n\n\nController\u53ef\u4ee5\u901a\u8fc7$vm\u76f4\u63a5\u83b7\u53d6\u5230\u7ed1\u5b9a\u7684ViewModel\u5bf9\u8c61\uff0c\u4ece\u800c\u5bf9\u5176\u8fdb\u884c\u4e8b\u4ef6\u7684\u7ed1\u5b9a\n\n\nController\uff1aActivity/Fragment\u751f\u547d\u5468\u671f\n\n\nController\u7684\u4e00\u4e2a\u6838\u5fc3\u529f\u80fd\u662f\u76d1\u63a7Activity/Fragment\u7684\u751f\u547d\u5468\u671f\u3002Controller\u9700\u8981\u5f97\u5230\u67d0\u4e2a\u5468\u671f\u7684\u56de\u8c03\uff0c\u76f4\u63a5\u901a\u8fc7\u5b9e\u73b0\u4e0e\u751f\u547d\u5468\u671f\u540c\u540d\u7684\u63a5\u53e3\u5373\u53ef\uff0c\u4f8b\u5982\uff1a\n\n\npublic\n \nclass\n \nMainController\n \nextends\n \nGeneralController\nMainViewModel\n \n\n        \n//\u5b9e\u73b0\u63a5\u53e3\u4ee5\u76d1\u542c\n\n        \nimplements\n \nOnResume\n,\n \n                   \nOnVisible\n,\n \n                   \nOnRestart\n{\n\n\n    \n@Override\n \nprotected\n \nvoid\n \nbindEvents\n()\n \n{\n\n    \n}\n\n\n    \n@Override\n \nprotected\n \nvoid\n \nonResume\n(){\n\n        \n//do something\n\n    \n}\n\n\n    \n@Override\n \nprotected\n \nvoid\n \nonVisible\n(\nboolean\n \nisVisible\n){\n\n        \n//\u76f8\u5f53\u4e8eFragment\u7684setUserVisibleHint\u65b9\u6cd5\n\n    \n}\n\n\n    \n@Override\n \nprotected\n \nvoid\n \nonRestart\n(){\n\n        \n//Activity\u7684\u4e13\u5c5e\u751f\u547d\u5468\u671f\n\n    \n}\n\n\n}\n\n\n\n\n\n\nPan\u6846\u67b6\u5c06\u4fdd\u8bc1\u5728\u7279\u5b9a\u7684\u751f\u547d\u5468\u671f\u4e2d\u5bf9\u8fd9\u4e9b\u65b9\u6cd5\u8fdb\u884c\u8c03\u7528\u3002\n\n\nActivity\u548cFragment\u6709\u5f88\u591a\u751f\u547d\u5468\u671f\u662f\u91cd\u5408\u7684\uff0c\u4f8b\u5982OnResume\u3001OnStart\uff0c\u5728Pan\u7684\u5b9e\u73b0\u4e2d\uff0c\u5f53\u8be5\u751f\u547d\u5468\u671f\u5230\u8fbe\u65f6\uff0cController\u53ea\u4f1a\u88ab\u8c03\u7528\u4e00\u6b21\u3002\n\n\n\u4e00\u4e2aController\u53ef\u4ee5\u540c\u65f6\u76d1\u542c\u53ea\u5c5e\u4e8eActivity\u7684\u751f\u547d\u5468\u671f\uff0c\u548c\u53ea\u5c5e\u4e8eFragment\u7684\u751f\u547d\u5468\u671f\uff0c\u4ece\u800c\u8ba9Controller\u7684\u53ef\u590d\u7528\u6027\u5927\u5927\u63d0\u9ad8\u3002\u5728Activity\u7684\u73af\u5883\u4e2d\u4f7f\u7528\u65f6\uff0cFragment\u7684\u751f\u547d\u5468\u671f\u5c06\u4e0d\u4f1a\u88ab\u8c03\u7528\u5230\u3002\n\n\n\u65e9\u671f\u7684Pan\u66fe\u4eca\u533a\u5206\u8fc7Activity\u548cFragment\u7684\u5177\u4f53\u8c03\u7528\uff0c\u4f46\u5b9e\u9645\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u53d1\u73b0\uff0c\u8fd9\u4e2a\u533a\u5206\u5e76\u65e0\u5fc5\u8981\uff0c\u56e0\u4e3aFragment\u7684onResume\u5728\u5b89\u5353\u6e90\u7801\u4e2d\u5c31\u662f\u88abActivity\u7684onResume\u6240\u8c03\u7528\u7684\uff0c\u65f6\u673a\u5b8c\u5168\u76f8\u540c\uff0c\u533a\u5206\u53cd\u800c\u589e\u52a0\u4e86\u4ee3\u7801\u7684\u590d\u6742\u5ea6\uff0c\u56e0\u6b64\uff0c\u5728\u73b0\u5728\u7684\u7248\u672c\u4e2d\uff0c\u91cd\u5408\u7684\u751f\u547d\u5468\u671f\u4e0d\u52a0\u4ee5\u533a\u5206\u3002\n\n\n\u80cc\u540e\u7684\u5b9e\u73b0\uff0c\u662f\u7531Pan\u5de5\u5382\u7ef4\u62a4\u4e86\u4e00\u4e2a\u5168\u5c40\u7684\nACTIVITY_CONTROLLER_MAP\n\u548c\nFRAGMENT_CONTROLLER_MAP\n\u5b8c\u6210\uff0c\u53ef\u4ee5\u53c2\u8003\u6e90\u7801\u3002\n\n\nController\uff1a\u7528\u6237\u4ea4\u4e92\n\n\nController\u7684\u53e6\u5916\u4e00\u4e2a\u57fa\u672c\u529f\u80fd\u662f\u76d1\u542cView\u7684\u4e8b\u4ef6\uff0c\u4f8b\u5982Click\u4e8b\u4ef6\uff1a\n\n\npublic\n \nclass\n \nMainController\n \nextends\n \nGeneralController\nMainViewModel\n \n{\n\n\n    \n@Override\n \nprotected\n \nvoid\n \nbindEvents\n()\n \n{\n\n        \n$vm\n.\nvButton\n.\nsetOnClickListener\n(\nv\n \n-\n \n/*...*/\n);\n\n    \n}\n\n\n}\n\n\n\n\n\n\n\u8fd9\u91cc\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cController\u4e0d\u4f1a\u8ddf\u968fViewModel\u4e00\u8d77\u88ab\u91cd\u7528\uff0c\u56e0\u6b64\u5f53ViewModel\u88ab\u91cd\u7528\u65f6\uff0c\u4f1a\u91cd\u65b0\u5b9e\u4f8b\u5316\u4e00\u4e2aController\u4ee5\u63d0\u4f9b\u63a7\u5236\u529f\u80fd\u3002\u7531\u4e8eViewModel\u88ab\u91cd\u7528\u65f6\uff0c\u5176\u5305\u542b\u7684View\u7684\u5b9e\u4f8b\u672a\u66fe\u6539\u53d8\uff0c\u6240\u4ee5setOnClickListener\u5c06\u4f1a\u8986\u76d6\u539f\u6709\u7684Listener\u5b9e\u4f8b\u3002\n\n\n\u8fd9\u5728\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u6ca1\u6709\u95ee\u9898\uff0c\u9664\u4e86\u4ee5\u4e0b\u4e24\u79cd\u60c5\u51b5\uff1a\n\n\n\n\n\u5728\u91cd\u7528\u65f6\uff0c\u7531\u4e8e\u67d0\u4e9b\u72b6\u6001\uff0c\u6ca1\u6709\u8bbe\u7f6e\u65b0\u7684Listener\uff0c\u6b64\u65f6\u5c06\u4ecd\u7136\u5728\u4f7f\u7528\u8001\u7684Listener\u800c\u5bfc\u81f4bug\n\n\nbindEvents\u4f7f\u7528\u7684\u662faddEventListener\u8fd9\u7c7b\u6a21\u5f0f\uff0c\u5373\u589e\u52a0\u4e00\u4e2aListener\uff0c\u7531\u4e8e\u539f\u5148\u7684\u5217\u8868\u5e76\u6ca1\u6709\u91cd\u7f6e\uff0c\u4f1a\u9020\u6210\u91cd\u590d\u7ed1\u5b9a\u76f8\u540c\u7684Listener\u7684\u95ee\u9898\u5bfc\u81f4bug\u3002\n\n\n\n\n\u56e0\u6b64\uff0c\u5728\u5177\u4f53\u91cd\u7528\u65f6\uff0c\u9700\u8981\u8003\u8651\u6e05\u695a\u8fd9\u4e9bListener\u7684\u751f\u547d\u5468\u671f\uff0c\u5e76\u5728bindEvents\u7684\u903b\u8f91\u4e2d\u52a0\u4ee5\u533a\u5206\u3002\u672a\u6765\u7684Pan\u6216\u8bb8\u4f1a\u8003\u8651\u63d0\u4f9b\u5185\u90e8\u7684click\u65b9\u6cd5\u4ee5\u5b9e\u73b0\u81ea\u52a8unbind\uff0c\u8003\u8651\u5230Pan\u7684\u4f7f\u7528\u8005\u4ecd\u7136\u53ef\u80fd\u4f1a\u8c03\u7528\u539f\u751f\u7684\u65b9\u6cd5\uff0c\u8fd9\u79cd\u65b9\u5f0f\u4e5f\u5e76\u4e0d\u80fd\u4ece\u6839\u672c\u4e0a\u89e3\u51b3\u95ee\u9898\u3002\n\n\nViewModel\u548cController\u7684\u751f\u547d\u5468\u671f\n\n\nPan\u5de5\u5382\u4f1a\u4fdd\u8bc1\u4f20\u5165\u7684GeneralViewModel\u5c06\u6309\u7167\u4e0b\u5217\u987a\u5e8f\u521d\u59cb\u5316\uff1a\n\n\n\n\n\u81ea\u5b9a\u4e49PanActivity/PanFragment\n\n\n\u7531\u4e8eJava\u7684\u5355\u7ee7\u627f\u7279\u6027\uff0c\u5982\u679c\u67d0\u4e2aActivity\u5df2\u7ecf\u7ee7\u627f\u4e86\u67d0\u4e2a\u81ea\u5b9a\u4e49\u7684Activity\uff0c\u6216\u8005\u67d0\u4e2a\u7c7b\u5e93\u7684Activity\uff0c\u5c06\u65e0\u6cd5\u76f4\u63a5\u7ee7\u627fPanActivity/PanFragment\u3002\n\n\n\u6b64\u65f6\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u7ee7\u627f\u57fa\u7c7bActivity\uff0c\u5e76\u5b9e\u73b0\nLifecycleObserved\n\u63a5\u53e3\uff0c\u540c\u65f6\uff0c\u5c06PanActivity\u4e2d\u7684\u4ee3\u7801\uff0c\u76f4\u63a5\u62f7\u8d1d\u5230CustomActivity\u4e2d\uff0c\u5373\u53ef\u4f7f\u7528\u3002Fragment\u540c\u7406\u3002\n\n\npublic\n \nclass\n \nPanCustomActivityBase\n \nextends\n \nCustomActivity\n \nimplements\n \nLifecycleObserved\n{\n\n\n    \n//\u62f7\u8d1dPanActivity\u7684\u6240\u6709\u6e90\u7801\u5230\u8fd9\u91cc\u3002\n\n\n\n}", 
            "title": "Components"
        }, 
        {
            "location": "/Components/#components", 
            "text": "\u8be6\u7ec6\u4ecb\u7ecdPan\u7684\u7ec4\u6210\u548c\u4f7f\u7528\u65b9\u6cd5\u3002", 
            "title": "Components \u7ec4\u4ef6"
        }, 
        {
            "location": "/Components/#viewmodelpan", 
            "text": "ViewModel\u662f\u6574\u4e2a\u6846\u67b6\u4e2d\u7684\u6838\u5fc3\uff0c\u63a5\u53e3\u5b9a\u4e49\u5982\u4e0b\uff1a  public   interface   ViewModel   { \n\n     ViewModel   render (); \n\n     View   getRootView ();  }   render\u65b9\u6cd5\u8d1f\u8d23\u5b8c\u6210\u6e32\u67d3\u64cd\u4f5c\uff0c\u800crootView\u662f\u5f53\u524d\u6e32\u67d3\u7684\u6700\u9876\u5c42\u7684View\u3002ViewModel\u7684\u57fa\u7840\u5b9e\u73b0\u662f GeneralViewModel \u3002  GeneralViewModel \u63d0\u4f9b\u4e86\u4ee5\u4e0b\u529f\u80fd\uff1a   @Bind\u6ce8\u89e3\u81ea\u52a8\u6ce8\u5165View\u3002\uff08\u5e95\u5c42\u7531 Butterknife \u652f\u6301\uff09  \u6301\u6709\u5f53\u524d\u7684Context\uff0c\u4e00\u5b9a\u6709Activity\u7684\u5f15\u7528\uff0c\u5982\u679c\u5728Fragment\u4e2d\uff0c\u5219\u6709Fragment\u7684\u5f15\u7528  \u652f\u6301\u7ed1\u5b9a\u4e00\u4e2a GeneralController   \u4e00\u822c\u6765\u8bf4\uff0cViewModel\u7684\u5b9e\u4f8b\u5316\u53ef\u4ee5\u901a\u8fc7Pan\u5de5\u5382\u6765\u5b8c\u6210\uff0c\u53ea\u9700\u544a\u8bc9Pan\u5de5\u5382\u4f7f\u7528\u4f55\u7c7b\u578b\u7684ViewModel\uff0cPan\u5de5\u5382\u4f1a\u8d1f\u8d23\u5b9e\u4f8b\u5316ViewModel\u3002\u5f53\u7136\uff0c\u4e5f\u53ef\u4ee5\u81ea\u884c\u5b9e\u4f8b\u5316ViewModel\uff0c\u8fd9\u5728\u5185\u90e8\u7c7b\u7684\u573a\u666f\u65f6\u53ef\u4ee5\u4f7f\u7528\uff0c\u7136\u540e\u5c06ViewModel\u5bf9\u8c61\u4f20\u5165Pan\u5de5\u5382\uff0c\u4ee5\u8fdb\u4e00\u6b65\u7ed1\u5b9aView\u548cController\u3002", 
            "title": "ViewModel\u548cPan\u5de5\u5382"
        }, 
        {
            "location": "/Components/#panpanactivity", 
            "text": "@Override  protected   void   onCreate ( Bundle   savedInstanceState ){ \n     super . onCreate ( savedInstanceState ); \n     setContentView ( R . layout . activity_main ); \n\n     MainViewModel   vm   =   Pan . with ( this ,   MainViewModel . class ) \n         . getViewModel ();   //\u76f4\u63a5\u4f7f\u7528Activity\u7684decorView\u7684\u7b2c\u4e00\u4e2a\u5b50View\u4f5c\u4e3arootView \n\n     vm . render ();  }   \u5728Activity\u4e2d\uff0c\u9700\u8981\u5728onCreate\u4e2d\u5b8c\u6210\u5de5\u5382\u5b9e\u4f8b\u5316\u8fc7\u7a0b\u3002\u76f4\u63a5\u4f7f\u7528\u65e0\u53c2\u6570\u7684getViewModel()\u5de5\u5382\u65b9\u6cd5\u83b7\u5f97ViewModel\u5b9e\u4f8b\u3002\u6b64\u65f6\uff0cgetRootView()\u8fd4\u56de\u7684\u662fActivity\u7684decorView\u7684\u7b2c\u4e00\u4e2a\u5b50View\uff0c\u5373\u6574\u4e2a\u9875\u9762\u7684\u6839View\u3002  \u6ce8\u610f\uff0c\u8fd9\u91cc\u8981\u6c42Activity\u5b9e\u73b0LifecycleObserved\u63a5\u53e3\uff0c\u53ef\u4ee5\u901a\u8fc7\u76f4\u63a5\u7ee7\u627f PanActivity \u5b8c\u6210\uff0c\u4e5f\u53ef\u4ee5\u5728\u81ea\u5b9a\u4e49\u7684Activity\u4e2d\uff0c\u4eff\u5199 PanActivity \u7684\u4ee3\u7801\u5e76\u5b9e\u73b0 LifecycleObserved \u63a5\u53e3\u3002\u53c2\u8003 \u81ea\u5b9a\u4e49PanActivity/PanFragment \u3002", 
            "title": "Pan\uff1aPanActivity\u4e2d\u4f7f\u7528"
        }, 
        {
            "location": "/Components/#panpanfragmentadapter", 
            "text": "@Override  public   View   onCreateView ( LayoutInflater   inflater ,   ViewGroup   container ,   Bundle   savedInstanceState )   { \n\n     MainViewModel   vm   =   Pan . with ( this ,   MainViewModel . class ) \n         . getViewModel ( container ,   null ,   false ); \n\n     vm . render (); \n\n     return   vm . getRootView ();   //\u5de5\u5382\u65b9\u6cd5\u6839\u636e@Xml\u6ce8\u89e3\u521b\u5efa\u7684View  }  @Xml ( R . layout . activity_main )   //\u6b64\u65f6@Xml\u6ce8\u89e3\u4e3a\u5fc5\u987b  public   static   class   MainViewModel   extends   GeneralViewModel { \n     //...  }   \u5728Fragment\u7684onCreateView\u65b9\u6cd5\u4e2d\uff0c\u5b8c\u6210\u5de5\u5382\u7684\u5b9e\u4f8b\u5316\u8fc7\u7a0b\u3002Fragment\u7684onCreateView\u9700\u8981\u8fd4\u56de\u4e00\u4e2a\u65b0\u521b\u5efa\u7684View\uff0c\u56e0\u6b64\uff0cPan\u5de5\u5382\u5728\u521b\u5efaViewModel\u7684\u540c\u65f6\uff0c\u53ef\u4ee5\u5b8c\u6210\u521b\u5efaView\u7684\u8fc7\u7a0b\u3002\u4f7f\u7528 getViewModel(ViewGroup, View, attach) \u7684\u91cd\u8f7d\uff0c\u53ef\u4ee5\u50cf\u8c03\u7528inflat\u65b9\u6cd5\u4e00\u6837\uff0c\u521b\u5efa\u4e00\u4e2a\u65b0\u7684View\u3002\u800c\u8fd9\u4e2aView\u7684Xml\uff0c\u5219\u6765\u81ea\u4e8eMainViewModel\u7684 @Xml \u6ce8\u89e3\u3002  \u6ce8\u610f\uff0c\u8fd9\u91cc\u8981\u6c42Fragment\u5b9e\u73b0 LifecycleObserved \u63a5\u53e3\uff0c\u53ef\u4ee5\u901a\u8fc7\u76f4\u63a5\u7ee7\u627f PanFramgent \u5b8c\u6210\uff0c\u4e5f\u53ef\u4ee5\u5728\u81ea\u5b9a\u4e49\u7684Fragment\u4e2d\uff0c\u4eff\u5199 PanFramgent \u7684\u4ee3\u7801\u5e76\u5b9e\u73b0 LifecycleObserved \u63a5\u53e3\u3002\u53c2\u8003 \u81ea\u5b9a\u4e49PanActivity/PanFragment \u3002  \u5b89\u5353\u4e2d\uff0c\u754c\u9762\u90e8\u4ef6\u7684\u91cd\u8981\u573a\u666f\u662f\u5728ListView\u7684Adapter\u4e2d\uff0c\u6216\u8005RecyclerView\u7684\u573a\u666f\u4e2d\uff0c\u5728\u8fd9\u4e9bAdapter\u4e2d\uff0c\u4e5f\u9700\u8981\u5b9e\u4f8b\u5316\u65b0\u7684View\uff0c\u4ee5\u53ca\u4f7f\u7528ViewHolder\u6a21\u5f0f\u91cd\u7528\u73b0\u6709\u7684View\u3002 Pan\u6846\u67b6\u539f\u751f\u652f\u6301ViewHolder\u6a21\u5f0f\uff0c\u4f7f\u7528\u8005\u65e0\u9700\u518d\u81ea\u5df1\u4fdd\u5b58View\u7684\u5b9e\u4f8b\u3002\u53c2\u8003 ViewHolder\u6a21\u5f0f\u548c\u5d4c\u5957\u4f7f\u7528 \u56e0\u6b64\uff0c\u5728Adapter\u7684getView\u65b9\u6cd5\u4e2d\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u672c\u65b9\u6cd5\u3002\u5373\uff1a  @Override  public   View   getView ( int   position ,   View   convertView ,   ViewGroup   parent )   { \n     return   Pan . with ( getActivity (),   MainViewModel . class ) \n               . getViewModel ( parent ,   convertView ,   false ); //convertView\u4f1a\u81ea\u52a8\u91cd\u7528\u7ed1\u5b9a\u7684ViewModel  }", 
            "title": "Pan\uff1aPanFragment\u4e2d\u4f7f\u7528\uff08Adapter\u540c\u7406\uff09"
        }, 
        {
            "location": "/Components/#panview", 
            "text": "\u9664\u4e86\u4e0a\u8ff0\u4e24\u79cd\u4e3b\u8981\u573a\u666f\u5916\uff0c\u5176\u4ed6\u4efb\u4f55\u901a\u8fc7\u5df2\u7ecf\u6709\u5b9e\u4f8b\u5316\u597d\u7684View\u7684\u60c5\u51b5\uff0c\u90fd\u53ef\u4ee5\u5c06View\u76f4\u63a5\u7ed1\u5b9a\u5230ViewModel\u4e0a\uff0c\u4ee5\u8fdb\u884c\u6e32\u67d3\u548c\u63a7\u5236\u3002\u6b64\u65f6\uff0cViewHolder\u6a21\u5f0f\u540c\u6837\u4f1a\u53d1\u751f\u4f5c\u7528\uff0c\u5982\u679cView\u4e0a\u9762\u5df2\u7ecf\u7ed1\u5b9a\u4e86\u4e00\u4e2a\u76f8\u540c\u7c7b\u578b\u7684ViewModel\uff0c\u5c06\u4f1a\u76f4\u63a5\u91cd\u7528\u3002  \u540c\u65f6\uff0cPan\u4e5f\u652f\u6301\u4e00\u4e2aView\u88ab\u591a\u6b21\u7ed1\u5b9a\u5230\u4e0d\u540c\u7c7b\u578b\u7684ViewModel\u4e0a\uff0c\u6240\u4ee5\uff0c\u4e0d\u7528\u62c5\u5fc3\u4e0d\u540c\u7c7b\u578b\u7684ViewModel\u4f1a\u88ab\u8986\u76d6\u7ed1\u5b9a\u7684\u60c5\u51b5\u3002\u4f46\u6ce8\u610f\uff0c\u540c\u7c7b\u578b\u7684ViewModel\u7684\u91cd\u590d\u7ed1\u5b9a\uff0c\u662f\u65e0\u6548\u7684\u3002  Pan . with ( getActivity (),   MainViewModel . class ) \n     . getViewModel ( view );", 
            "title": "Pan\uff1aView\u4e2d\u4f7f\u7528"
        }, 
        {
            "location": "/Components/#controller", 
            "text": "Controller\u7684\u57fa\u672c\u7528\u6cd5\u5f88\u7b80\u5355\uff0c\u53ef\u4ee5\u76f4\u63a5\u7ee7\u627fGeneralController\uff0c\u5e76\u901a\u8fc7\u6cdb\u578b\u6307\u5b9a\u7ed1\u5b9a\u7684ViewModel  public   class   MainController   extends   GeneralController MainViewModel   { \n     @Override   protected   void   bindEvents ()   { \n     }  }  //\u5728\u5de5\u5382\u65b9\u6cd5\u76f4\u63a5\u6307\u5b9aController\u5373\u53ef  Pan . with ( getActivity (),   MainViewModel . class ) \n     . controlledBy ( MainController . class ) \n     . getViewModel ();   Controller\u53ef\u4ee5\u901a\u8fc7$vm\u76f4\u63a5\u83b7\u53d6\u5230\u7ed1\u5b9a\u7684ViewModel\u5bf9\u8c61\uff0c\u4ece\u800c\u5bf9\u5176\u8fdb\u884c\u4e8b\u4ef6\u7684\u7ed1\u5b9a", 
            "title": "Controller"
        }, 
        {
            "location": "/Components/#controlleractivityfragment", 
            "text": "Controller\u7684\u4e00\u4e2a\u6838\u5fc3\u529f\u80fd\u662f\u76d1\u63a7Activity/Fragment\u7684\u751f\u547d\u5468\u671f\u3002Controller\u9700\u8981\u5f97\u5230\u67d0\u4e2a\u5468\u671f\u7684\u56de\u8c03\uff0c\u76f4\u63a5\u901a\u8fc7\u5b9e\u73b0\u4e0e\u751f\u547d\u5468\u671f\u540c\u540d\u7684\u63a5\u53e3\u5373\u53ef\uff0c\u4f8b\u5982\uff1a  public   class   MainController   extends   GeneralController MainViewModel  \n\n         //\u5b9e\u73b0\u63a5\u53e3\u4ee5\u76d1\u542c \n         implements   OnResume ,  \n                    OnVisible ,  \n                    OnRestart { \n\n     @Override   protected   void   bindEvents ()   { \n     } \n\n     @Override   protected   void   onResume (){ \n         //do something \n     } \n\n     @Override   protected   void   onVisible ( boolean   isVisible ){ \n         //\u76f8\u5f53\u4e8eFragment\u7684setUserVisibleHint\u65b9\u6cd5 \n     } \n\n     @Override   protected   void   onRestart (){ \n         //Activity\u7684\u4e13\u5c5e\u751f\u547d\u5468\u671f \n     }  }   Pan\u6846\u67b6\u5c06\u4fdd\u8bc1\u5728\u7279\u5b9a\u7684\u751f\u547d\u5468\u671f\u4e2d\u5bf9\u8fd9\u4e9b\u65b9\u6cd5\u8fdb\u884c\u8c03\u7528\u3002  Activity\u548cFragment\u6709\u5f88\u591a\u751f\u547d\u5468\u671f\u662f\u91cd\u5408\u7684\uff0c\u4f8b\u5982OnResume\u3001OnStart\uff0c\u5728Pan\u7684\u5b9e\u73b0\u4e2d\uff0c\u5f53\u8be5\u751f\u547d\u5468\u671f\u5230\u8fbe\u65f6\uff0cController\u53ea\u4f1a\u88ab\u8c03\u7528\u4e00\u6b21\u3002  \u4e00\u4e2aController\u53ef\u4ee5\u540c\u65f6\u76d1\u542c\u53ea\u5c5e\u4e8eActivity\u7684\u751f\u547d\u5468\u671f\uff0c\u548c\u53ea\u5c5e\u4e8eFragment\u7684\u751f\u547d\u5468\u671f\uff0c\u4ece\u800c\u8ba9Controller\u7684\u53ef\u590d\u7528\u6027\u5927\u5927\u63d0\u9ad8\u3002\u5728Activity\u7684\u73af\u5883\u4e2d\u4f7f\u7528\u65f6\uff0cFragment\u7684\u751f\u547d\u5468\u671f\u5c06\u4e0d\u4f1a\u88ab\u8c03\u7528\u5230\u3002  \u65e9\u671f\u7684Pan\u66fe\u4eca\u533a\u5206\u8fc7Activity\u548cFragment\u7684\u5177\u4f53\u8c03\u7528\uff0c\u4f46\u5b9e\u9645\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u53d1\u73b0\uff0c\u8fd9\u4e2a\u533a\u5206\u5e76\u65e0\u5fc5\u8981\uff0c\u56e0\u4e3aFragment\u7684onResume\u5728\u5b89\u5353\u6e90\u7801\u4e2d\u5c31\u662f\u88abActivity\u7684onResume\u6240\u8c03\u7528\u7684\uff0c\u65f6\u673a\u5b8c\u5168\u76f8\u540c\uff0c\u533a\u5206\u53cd\u800c\u589e\u52a0\u4e86\u4ee3\u7801\u7684\u590d\u6742\u5ea6\uff0c\u56e0\u6b64\uff0c\u5728\u73b0\u5728\u7684\u7248\u672c\u4e2d\uff0c\u91cd\u5408\u7684\u751f\u547d\u5468\u671f\u4e0d\u52a0\u4ee5\u533a\u5206\u3002  \u80cc\u540e\u7684\u5b9e\u73b0\uff0c\u662f\u7531Pan\u5de5\u5382\u7ef4\u62a4\u4e86\u4e00\u4e2a\u5168\u5c40\u7684 ACTIVITY_CONTROLLER_MAP \u548c FRAGMENT_CONTROLLER_MAP \u5b8c\u6210\uff0c\u53ef\u4ee5\u53c2\u8003\u6e90\u7801\u3002", 
            "title": "Controller\uff1aActivity/Fragment\u751f\u547d\u5468\u671f"
        }, 
        {
            "location": "/Components/#controller_1", 
            "text": "Controller\u7684\u53e6\u5916\u4e00\u4e2a\u57fa\u672c\u529f\u80fd\u662f\u76d1\u542cView\u7684\u4e8b\u4ef6\uff0c\u4f8b\u5982Click\u4e8b\u4ef6\uff1a  public   class   MainController   extends   GeneralController MainViewModel   { \n\n     @Override   protected   void   bindEvents ()   { \n         $vm . vButton . setOnClickListener ( v   -   /*...*/ ); \n     }  }   \u8fd9\u91cc\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cController\u4e0d\u4f1a\u8ddf\u968fViewModel\u4e00\u8d77\u88ab\u91cd\u7528\uff0c\u56e0\u6b64\u5f53ViewModel\u88ab\u91cd\u7528\u65f6\uff0c\u4f1a\u91cd\u65b0\u5b9e\u4f8b\u5316\u4e00\u4e2aController\u4ee5\u63d0\u4f9b\u63a7\u5236\u529f\u80fd\u3002\u7531\u4e8eViewModel\u88ab\u91cd\u7528\u65f6\uff0c\u5176\u5305\u542b\u7684View\u7684\u5b9e\u4f8b\u672a\u66fe\u6539\u53d8\uff0c\u6240\u4ee5setOnClickListener\u5c06\u4f1a\u8986\u76d6\u539f\u6709\u7684Listener\u5b9e\u4f8b\u3002  \u8fd9\u5728\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u6ca1\u6709\u95ee\u9898\uff0c\u9664\u4e86\u4ee5\u4e0b\u4e24\u79cd\u60c5\u51b5\uff1a   \u5728\u91cd\u7528\u65f6\uff0c\u7531\u4e8e\u67d0\u4e9b\u72b6\u6001\uff0c\u6ca1\u6709\u8bbe\u7f6e\u65b0\u7684Listener\uff0c\u6b64\u65f6\u5c06\u4ecd\u7136\u5728\u4f7f\u7528\u8001\u7684Listener\u800c\u5bfc\u81f4bug  bindEvents\u4f7f\u7528\u7684\u662faddEventListener\u8fd9\u7c7b\u6a21\u5f0f\uff0c\u5373\u589e\u52a0\u4e00\u4e2aListener\uff0c\u7531\u4e8e\u539f\u5148\u7684\u5217\u8868\u5e76\u6ca1\u6709\u91cd\u7f6e\uff0c\u4f1a\u9020\u6210\u91cd\u590d\u7ed1\u5b9a\u76f8\u540c\u7684Listener\u7684\u95ee\u9898\u5bfc\u81f4bug\u3002   \u56e0\u6b64\uff0c\u5728\u5177\u4f53\u91cd\u7528\u65f6\uff0c\u9700\u8981\u8003\u8651\u6e05\u695a\u8fd9\u4e9bListener\u7684\u751f\u547d\u5468\u671f\uff0c\u5e76\u5728bindEvents\u7684\u903b\u8f91\u4e2d\u52a0\u4ee5\u533a\u5206\u3002\u672a\u6765\u7684Pan\u6216\u8bb8\u4f1a\u8003\u8651\u63d0\u4f9b\u5185\u90e8\u7684click\u65b9\u6cd5\u4ee5\u5b9e\u73b0\u81ea\u52a8unbind\uff0c\u8003\u8651\u5230Pan\u7684\u4f7f\u7528\u8005\u4ecd\u7136\u53ef\u80fd\u4f1a\u8c03\u7528\u539f\u751f\u7684\u65b9\u6cd5\uff0c\u8fd9\u79cd\u65b9\u5f0f\u4e5f\u5e76\u4e0d\u80fd\u4ece\u6839\u672c\u4e0a\u89e3\u51b3\u95ee\u9898\u3002", 
            "title": "Controller\uff1a\u7528\u6237\u4ea4\u4e92"
        }, 
        {
            "location": "/Components/#viewmodelcontroller", 
            "text": "Pan\u5de5\u5382\u4f1a\u4fdd\u8bc1\u4f20\u5165\u7684GeneralViewModel\u5c06\u6309\u7167\u4e0b\u5217\u987a\u5e8f\u521d\u59cb\u5316\uff1a", 
            "title": "ViewModel\u548cController\u7684\u751f\u547d\u5468\u671f"
        }, 
        {
            "location": "/Components/#panactivitypanfragment", 
            "text": "\u7531\u4e8eJava\u7684\u5355\u7ee7\u627f\u7279\u6027\uff0c\u5982\u679c\u67d0\u4e2aActivity\u5df2\u7ecf\u7ee7\u627f\u4e86\u67d0\u4e2a\u81ea\u5b9a\u4e49\u7684Activity\uff0c\u6216\u8005\u67d0\u4e2a\u7c7b\u5e93\u7684Activity\uff0c\u5c06\u65e0\u6cd5\u76f4\u63a5\u7ee7\u627fPanActivity/PanFragment\u3002  \u6b64\u65f6\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u7ee7\u627f\u57fa\u7c7bActivity\uff0c\u5e76\u5b9e\u73b0 LifecycleObserved \u63a5\u53e3\uff0c\u540c\u65f6\uff0c\u5c06PanActivity\u4e2d\u7684\u4ee3\u7801\uff0c\u76f4\u63a5\u62f7\u8d1d\u5230CustomActivity\u4e2d\uff0c\u5373\u53ef\u4f7f\u7528\u3002Fragment\u540c\u7406\u3002  public   class   PanCustomActivityBase   extends   CustomActivity   implements   LifecycleObserved { \n\n     //\u62f7\u8d1dPanActivity\u7684\u6240\u6709\u6e90\u7801\u5230\u8fd9\u91cc\u3002  }", 
            "title": "\u81ea\u5b9a\u4e49PanActivity/PanFragment"
        }, 
        {
            "location": "/\u590d\u7528_\u7ee7\u627f\u548c\u59d4\u6258/", 
            "text": "\u590d\u7528\u7684\u8bbe\u8ba1\u6a21\u5f0f\n\n\nPan\u89e3\u8026\u4e86Activity/Fragment\u548cViewModel\uff0c\u518d\u52a0\u4e0aXml\u4e0eView\u4e4b\u95f4\u672c\u8eab\u5c31\u901a\u8fc7Id\u89e3\u8026\uff0c\u4ece\u800c\u8ba9Pan\u6846\u67b6\u6709\u4e86\u65e0\u4e0e\u4f26\u6bd4\u7684\u9ad8\u590d\u7528\u6027\uff0c\u53ef\u4ee5\u5145\u5206\u5229\u7528OO\u5e26\u6765\u7684\u597d\u5904\u3002\n\n\nViewModel\u7ee7\u627f\u548cXml\u91cd\u7528\n\n\n\u5217\u8868\u9875\u548c\u8be6\u60c5\u9875\u662f\u975e\u5e38\u5e38\u89c1\u7684\u4e00\u4e2a\u573a\u666f\uff0c\u4f8b\u5982\u5fae\u535a\uff1a\n\n\n\n\n\u5217\u8868\u9875\u4e2d\u7684item\uff0c\u5728\u8be6\u60c5\u9875\u4e2d\uff0c\u653e\u7f6e\u5728\u5934\u90e8\uff0c\u4e24\u8005\u754c\u9762\u76f8\u4f3c\uff0c\u663e\u793a\u7684\u5185\u5bb9\u57fa\u672c\u4e00\u81f4\uff0c\u4ea4\u4e92\u7a0d\u6709\u533a\u522b\u3002\u76f4\u63a5\u4f7f\u7528ViewModel\u7684\u7ee7\u627f\uff0c\u5728\u5b50\u7c7b\u4e2d\u7ed8\u5236\u4e0d\u540c\u573a\u666f\u4e0b\u7684\u4e0d\u540c\u754c\u9762\uff0c\u53ef\u4ee5\u975e\u5e38\u8f7b\u677e\u7684\u91cd\u7528\u4ee3\u7801\uff0c\u5982\u4e0bUML\uff1a\n\n\n\n\nWeiboItemViewModel\u4f7f\u7528\u5728\u5217\u8868\u9875\u7684ListView\u4e2d\uff0c\u901a\u8fc7\nAdapter/ViewHolder\u6a21\u5f0f\u4e0e\u5916\u5c42\u7684WeiboListViewModel\u642d\u914d\n\u3002\u800cWeiboDetailViewModel\u5219\u6709\u53ef\u80fd\u4f5c\u4e3a\u8be6\u60c5\u9875\u91ccListView\u4e2d\u7684headerView\u4e0e\u5176\u5916\u5c42\u7684ViewModel\u642d\u914d\u3002\n\n\n\u800c\u754c\u9762\u7684Xml\uff0c\u4e5f\u53ef\u4ee5\u7c7b\u4f3c\u56fe\u4e2d\uff0c\u901a\u8fc7include\u7684\u65b9\u5f0f\u8fdb\u884c\u91cd\u7528\u3002\u5982\u679c\u4e24\u8fb9\u6837\u5f0f\u5dee\u8ddd\u8fc7\u5927\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e24\u4e2a\u72ec\u7acb\u7684Xml\uff0c\u6b64\u65f6\u53ea\u9700\u8981\u4fdd\u8bc1\u9700\u8981\u6e32\u67d3\u7684view\u7684id\u4e00\u81f4\u5373\u53ef\uff0c\u4fdd\u8bc1\u901a\u7528\u7684\u6e32\u67d3\u903b\u8f91\u53ef\u4ee5\u5728\u7236\u7c7b\u91cd\u7528\uff0c\u5177\u4f53\u6837\u5f0f\u7684\u6e32\u67d3\u53ef\u4ee5\u4ea4\u7ed9\u5b50\u7c7b\u3002\n\n\n\u9664\u4e86\u5217\u8868\u9875/\u8be6\u60c5\u9875\u7684\u573a\u666f\u5916\uff0c\u4efb\u4f55\u5177\u6709\u53ef\u91cd\u7528\u7684\u201c\u754c\u9762\u90e8\u4ef6\u201d\u5747\u53ef\u4ee5\u4f7f\u7528\u7ee7\u627f\u6765\u91cd\u7528\u3001\u5206\u79bb\u3001\u68b3\u7406\u4ee3\u7801\u3002\n\n\nViewModel\u548c\u81ea\u5b9a\u4e49View\n\n\n\u4e3a\u4ec0\u4e48\u4e0d\u76f4\u63a5\u4f7f\u7528\u81ea\u5b9a\u4e49View\uff1f\n\n\n\u5728\u5927\u5bb6\u610f\u8bc6\u5230Activity/Fragment\u975e\u5e38\u4e0d\u5229\u4e8e\u754c\u9762\u91cd\u7528\u7684\u65f6\u5019\uff0c\u5927\u5bb6\u5f00\u59cb\u4f7f\u7528View\u4f5c\u4e3a\u754c\u9762\u90e8\u4ef6\u8fdb\u884c\u91cd\u7528\u3002\u76f4\u63a5\u8ba2\u5236View\u5927\u5927\u63d0\u5347\u4e86\u754c\u9762\u7684\u53ef\u91cd\u7528\u6027\uff0c\u4f46\u7f3a\u9677\u4e5f\u4ecd\u7136\u660e\u663e\uff1a\u6e32\u67d3\u903b\u8f91\u548c\u63a7\u5236\u903b\u8f91\u65e0\u6cd5\u5206\u79bb\u3002\u5f53\u7136\uff0c\u597d\u7684\u5f00\u53d1\u8005\u4ecd\u7136\u4f1a\u5728CustomView\u4e2d\u81ea\u884c\u5206\u79bb\u63a7\u5236\u903b\u8f91\uff0c\u800cPan\u7684ViewModel\u5219\u662f\u5f3a\u5236\u8981\u6c42\u4e86\u8fd9\u4e00\u70b9\uff0c\u5728\u56e2\u961f\u5408\u4f5c\u4e2d\uff0c\u5f3a\u5236\u6240\u6709\u5f00\u53d1\u8005\u4f7f\u7528\u540c\u4e00\u79cd\u5206\u79bb\u65b9\u5f0f\u65e0\u7591\u662f\u6700\u597d\u7684\u3002\n\n\n\u81ea\u5b9a\u4e49CustomView\u4e0eViewModel\u7684\u7ed3\u5408\n\n\n\u4e8b\u5b9e\u4e0a\uff0cCustomView\u4e0eViewModel\u751a\u81f3\u53ef\u4ee5\u7ed3\u5408\u4f7f\u7528\u3002CustomView\u4f5c\u4e3a\u4e00\u4e2a\u66f4\u5173\u6ce8\u6e32\u67d3\u903b\u8f91\u7684\u6574\u4f53\uff0c\u53ef\u4ee5\u6210\u4e3aViewModel\u7684\u4e00\u4e2afield\uff0c\u5e76\u66b4\u9732\u63a7\u5236\u63a5\u53e3\u7ed9Controller\uff0c\u5982\u4e0b\u56fe\u7684UML:\n\n\n\n\n\u5176\u4e2d\uff0cNineImageView\u53ef\u4ee5\u4e13\u6ce8\u4e8e\u6e32\u67d39\u5bab\u683c\u56fe\u7247\uff0c\u800cWeiboViewModel\u628a\u8fd9\u90e8\u5206\u7684\u6e32\u67d3\u903b\u8f91\u59d4\u6258\u7ed9NineImageView\uff0c\u540c\u65f6NineImageView\u63d0\u4f9b\u63a7\u5236\u7684\u56de\u8c03\u63a5\u53e3\uff0c\u8ba9ViewModel\u7ed1\u5b9a\u7684Controller\u53ef\u4ee5\u8fdb\u884c\u63a7\u5236\u3002\n\n\nViewModel\u59d4\u6258\n\n\n\u4e0a\u9762\u770b\u5230\uff0cViewModel\u628a\u7ed8\u52369\u5bab\u683c\u56fe\u7247\u59d4\u6258\u7ed9\u4e86NineImageView\uff0c\u800c\u63a7\u5236\u5219\u4ecd\u7136\u7559\u7ed9\u4e86\u81ea\u5df1\u7684Controller\u3002\u5982\u679c\u63a7\u5236\u90e8\u5206\u4ee3\u7801\u66f4\u52a0\u590d\u6742\uff0c\u8fdb\u4e00\u6b65\u5206\u79bb\u63a7\u5236\u662f\u6709\u5fc5\u8981\u7684\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u628aNineImageView\u5347\u7ea7\u4e3aNineImageViewModel\u3002\u5982\u4e0b\u56feUML\uff1a\n\n\n\n\n\u5176\u4e2d\uff0c\u5b8c\u6210\u59d4\u6258\u8fd9\u4e00\u6b65\uff0c\u53ef\u4ee5\u5728ViewModel\u7684onInit()\u65b9\u6cd5\u4e2d\u8fdb\u884c\uff0cViewModel\u7684\u5b8c\u6574\u521d\u59cb\u5316\u6b65\u9aa4\u53ef\u4ee5\u53c2\u8003\nViewModel\u751f\u547d\u5468\u671f\n\u3002\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a\n\n\n@Xml\n(\nR\n.\nlayout\n.\nview_weibo\n)\n\n\npublic\n \nclass\n \nWeiboViewModel\n \nextends\n \nGeneralViewModel\n{\n\n\n    \nprotected\n \nNineImageViewModel\n \nmNineImageViewModel\n;\n\n\n    \nprotected\n \nWeibo\n \nmWeibo\n;\n\n\n    \n@Override\n \nprotected\n \nvoid\n \nonInit\n(){\n\n        \n//\u5b8c\u6210\u59d4\u6258\n\n        \nmNineImageViewModel\n \n=\n \nPan\n.\nwith\n(\ngetLifecylceObserved\n(),\n \nNineImageViewModel\n.\nclass\n)\n\n                    \n.\ncontrolledBy\n(\nNineImageController\n.\nclass\n)\n\n                    \n.\nsetData\n(\nmWeibo\n \n!=\n \nnull\n \n:\n \nmWeibo\n.\ngetImages\n():\n \nnull\n)\n\n                    \n.\ngetViewModel\n(\ngetRootView\n());\n \n//\u5982\u679c\u8981\u81ea\u884c\u521b\u5efaView\u800c\u975e\u5916\u5c42View\u7684Xml\uff0c\u8fd9\u91cc\u53ef\u4ee5\u4f7f\u7528\u5176\u4ed6\u91cd\u8f7d\uff0c\u518d\u901a\u8fc7rootView\u52a0\u5165\u754c\u9762\u3002\n\n    \n}\n\n\n    \npublic\n \nWeiboViewModel\n \nsetData\n(\nWeibo\n \nweibo\n){\n\n        \nmWeibo\n \n=\n \nweibo\n;\n\n        \nif\n(\nmNineImageViewModel\n \n!=\n \nnull\n){\n\n            \nmNineImageViewModel\n.\nsetData\n(\nweibo\n.\ngetImages\n());\n\n        \n}\n\n    \n}\n\n\n    \n@Override\n \npublic\n \nvoid\n \nrender\n(){\n\n        \nmNineImageViewModel\n.\nrender\n();\n\n        \n//...\n\n    \n}\n\n\n\n}\n\n\n\n\n\n\nController\u7684\u7ee7\u627f\n\n\n\u968f\u7740ViewModel\u7684\u7ee7\u627f\uff0cController\u53ef\u4ee5\u8fdb\u884c\u5bf9\u5e94\u7684\u7ee7\u627f\uff0c\u4ee5\u590d\u7528\u63a7\u5236\u903b\u8f91\u3002Controller\u7684\u7ee7\u627f\u65f6\uff0c\u7a0d\u7a0d\u5904\u7406\u4e00\u4e0b\u7ed1\u5b9aViewModel\u7c7b\u578b\u7684\u6cdb\u578b\u53c2\u6570\u5c31\u53ef\u4ee5\u4e86\uff0c\u53c2\u8003\u4e0b\u9762\u7684UML\uff1a\n\n\n\n\n\u7ee7\u627f\u540e\u7684Controller\uff0c\u5b50\u7c7b\u53ef\u4ee5\u589e\u52a0\u989d\u5916\u7684\u63a7\u5236\u903b\u8f91\uff0c\u4e5f\u53ef\u4ee5\u6709\u9009\u62e9\u7684\u8986\u76d6\u7236\u7c7b\u7684\u63a7\u5236\u903b\u8f91\u3002", 
            "title": "\u590d\u7528\uff1a\u7ee7\u627f\u548c\u59d4\u6258"
        }, 
        {
            "location": "/\u590d\u7528_\u7ee7\u627f\u548c\u59d4\u6258/#_1", 
            "text": "Pan\u89e3\u8026\u4e86Activity/Fragment\u548cViewModel\uff0c\u518d\u52a0\u4e0aXml\u4e0eView\u4e4b\u95f4\u672c\u8eab\u5c31\u901a\u8fc7Id\u89e3\u8026\uff0c\u4ece\u800c\u8ba9Pan\u6846\u67b6\u6709\u4e86\u65e0\u4e0e\u4f26\u6bd4\u7684\u9ad8\u590d\u7528\u6027\uff0c\u53ef\u4ee5\u5145\u5206\u5229\u7528OO\u5e26\u6765\u7684\u597d\u5904\u3002", 
            "title": "\u590d\u7528\u7684\u8bbe\u8ba1\u6a21\u5f0f"
        }, 
        {
            "location": "/\u590d\u7528_\u7ee7\u627f\u548c\u59d4\u6258/#viewmodelxml", 
            "text": "\u5217\u8868\u9875\u548c\u8be6\u60c5\u9875\u662f\u975e\u5e38\u5e38\u89c1\u7684\u4e00\u4e2a\u573a\u666f\uff0c\u4f8b\u5982\u5fae\u535a\uff1a   \u5217\u8868\u9875\u4e2d\u7684item\uff0c\u5728\u8be6\u60c5\u9875\u4e2d\uff0c\u653e\u7f6e\u5728\u5934\u90e8\uff0c\u4e24\u8005\u754c\u9762\u76f8\u4f3c\uff0c\u663e\u793a\u7684\u5185\u5bb9\u57fa\u672c\u4e00\u81f4\uff0c\u4ea4\u4e92\u7a0d\u6709\u533a\u522b\u3002\u76f4\u63a5\u4f7f\u7528ViewModel\u7684\u7ee7\u627f\uff0c\u5728\u5b50\u7c7b\u4e2d\u7ed8\u5236\u4e0d\u540c\u573a\u666f\u4e0b\u7684\u4e0d\u540c\u754c\u9762\uff0c\u53ef\u4ee5\u975e\u5e38\u8f7b\u677e\u7684\u91cd\u7528\u4ee3\u7801\uff0c\u5982\u4e0bUML\uff1a   WeiboItemViewModel\u4f7f\u7528\u5728\u5217\u8868\u9875\u7684ListView\u4e2d\uff0c\u901a\u8fc7 Adapter/ViewHolder\u6a21\u5f0f\u4e0e\u5916\u5c42\u7684WeiboListViewModel\u642d\u914d \u3002\u800cWeiboDetailViewModel\u5219\u6709\u53ef\u80fd\u4f5c\u4e3a\u8be6\u60c5\u9875\u91ccListView\u4e2d\u7684headerView\u4e0e\u5176\u5916\u5c42\u7684ViewModel\u642d\u914d\u3002  \u800c\u754c\u9762\u7684Xml\uff0c\u4e5f\u53ef\u4ee5\u7c7b\u4f3c\u56fe\u4e2d\uff0c\u901a\u8fc7include\u7684\u65b9\u5f0f\u8fdb\u884c\u91cd\u7528\u3002\u5982\u679c\u4e24\u8fb9\u6837\u5f0f\u5dee\u8ddd\u8fc7\u5927\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e24\u4e2a\u72ec\u7acb\u7684Xml\uff0c\u6b64\u65f6\u53ea\u9700\u8981\u4fdd\u8bc1\u9700\u8981\u6e32\u67d3\u7684view\u7684id\u4e00\u81f4\u5373\u53ef\uff0c\u4fdd\u8bc1\u901a\u7528\u7684\u6e32\u67d3\u903b\u8f91\u53ef\u4ee5\u5728\u7236\u7c7b\u91cd\u7528\uff0c\u5177\u4f53\u6837\u5f0f\u7684\u6e32\u67d3\u53ef\u4ee5\u4ea4\u7ed9\u5b50\u7c7b\u3002  \u9664\u4e86\u5217\u8868\u9875/\u8be6\u60c5\u9875\u7684\u573a\u666f\u5916\uff0c\u4efb\u4f55\u5177\u6709\u53ef\u91cd\u7528\u7684\u201c\u754c\u9762\u90e8\u4ef6\u201d\u5747\u53ef\u4ee5\u4f7f\u7528\u7ee7\u627f\u6765\u91cd\u7528\u3001\u5206\u79bb\u3001\u68b3\u7406\u4ee3\u7801\u3002", 
            "title": "ViewModel\u7ee7\u627f\u548cXml\u91cd\u7528"
        }, 
        {
            "location": "/\u590d\u7528_\u7ee7\u627f\u548c\u59d4\u6258/#viewmodelview", 
            "text": "", 
            "title": "ViewModel\u548c\u81ea\u5b9a\u4e49View"
        }, 
        {
            "location": "/\u590d\u7528_\u7ee7\u627f\u548c\u59d4\u6258/#view", 
            "text": "\u5728\u5927\u5bb6\u610f\u8bc6\u5230Activity/Fragment\u975e\u5e38\u4e0d\u5229\u4e8e\u754c\u9762\u91cd\u7528\u7684\u65f6\u5019\uff0c\u5927\u5bb6\u5f00\u59cb\u4f7f\u7528View\u4f5c\u4e3a\u754c\u9762\u90e8\u4ef6\u8fdb\u884c\u91cd\u7528\u3002\u76f4\u63a5\u8ba2\u5236View\u5927\u5927\u63d0\u5347\u4e86\u754c\u9762\u7684\u53ef\u91cd\u7528\u6027\uff0c\u4f46\u7f3a\u9677\u4e5f\u4ecd\u7136\u660e\u663e\uff1a\u6e32\u67d3\u903b\u8f91\u548c\u63a7\u5236\u903b\u8f91\u65e0\u6cd5\u5206\u79bb\u3002\u5f53\u7136\uff0c\u597d\u7684\u5f00\u53d1\u8005\u4ecd\u7136\u4f1a\u5728CustomView\u4e2d\u81ea\u884c\u5206\u79bb\u63a7\u5236\u903b\u8f91\uff0c\u800cPan\u7684ViewModel\u5219\u662f\u5f3a\u5236\u8981\u6c42\u4e86\u8fd9\u4e00\u70b9\uff0c\u5728\u56e2\u961f\u5408\u4f5c\u4e2d\uff0c\u5f3a\u5236\u6240\u6709\u5f00\u53d1\u8005\u4f7f\u7528\u540c\u4e00\u79cd\u5206\u79bb\u65b9\u5f0f\u65e0\u7591\u662f\u6700\u597d\u7684\u3002", 
            "title": "\u4e3a\u4ec0\u4e48\u4e0d\u76f4\u63a5\u4f7f\u7528\u81ea\u5b9a\u4e49View\uff1f"
        }, 
        {
            "location": "/\u590d\u7528_\u7ee7\u627f\u548c\u59d4\u6258/#customviewviewmodel", 
            "text": "\u4e8b\u5b9e\u4e0a\uff0cCustomView\u4e0eViewModel\u751a\u81f3\u53ef\u4ee5\u7ed3\u5408\u4f7f\u7528\u3002CustomView\u4f5c\u4e3a\u4e00\u4e2a\u66f4\u5173\u6ce8\u6e32\u67d3\u903b\u8f91\u7684\u6574\u4f53\uff0c\u53ef\u4ee5\u6210\u4e3aViewModel\u7684\u4e00\u4e2afield\uff0c\u5e76\u66b4\u9732\u63a7\u5236\u63a5\u53e3\u7ed9Controller\uff0c\u5982\u4e0b\u56fe\u7684UML:   \u5176\u4e2d\uff0cNineImageView\u53ef\u4ee5\u4e13\u6ce8\u4e8e\u6e32\u67d39\u5bab\u683c\u56fe\u7247\uff0c\u800cWeiboViewModel\u628a\u8fd9\u90e8\u5206\u7684\u6e32\u67d3\u903b\u8f91\u59d4\u6258\u7ed9NineImageView\uff0c\u540c\u65f6NineImageView\u63d0\u4f9b\u63a7\u5236\u7684\u56de\u8c03\u63a5\u53e3\uff0c\u8ba9ViewModel\u7ed1\u5b9a\u7684Controller\u53ef\u4ee5\u8fdb\u884c\u63a7\u5236\u3002", 
            "title": "\u81ea\u5b9a\u4e49CustomView\u4e0eViewModel\u7684\u7ed3\u5408"
        }, 
        {
            "location": "/\u590d\u7528_\u7ee7\u627f\u548c\u59d4\u6258/#viewmodel", 
            "text": "\u4e0a\u9762\u770b\u5230\uff0cViewModel\u628a\u7ed8\u52369\u5bab\u683c\u56fe\u7247\u59d4\u6258\u7ed9\u4e86NineImageView\uff0c\u800c\u63a7\u5236\u5219\u4ecd\u7136\u7559\u7ed9\u4e86\u81ea\u5df1\u7684Controller\u3002\u5982\u679c\u63a7\u5236\u90e8\u5206\u4ee3\u7801\u66f4\u52a0\u590d\u6742\uff0c\u8fdb\u4e00\u6b65\u5206\u79bb\u63a7\u5236\u662f\u6709\u5fc5\u8981\u7684\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u628aNineImageView\u5347\u7ea7\u4e3aNineImageViewModel\u3002\u5982\u4e0b\u56feUML\uff1a   \u5176\u4e2d\uff0c\u5b8c\u6210\u59d4\u6258\u8fd9\u4e00\u6b65\uff0c\u53ef\u4ee5\u5728ViewModel\u7684onInit()\u65b9\u6cd5\u4e2d\u8fdb\u884c\uff0cViewModel\u7684\u5b8c\u6574\u521d\u59cb\u5316\u6b65\u9aa4\u53ef\u4ee5\u53c2\u8003 ViewModel\u751f\u547d\u5468\u671f \u3002\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a  @Xml ( R . layout . view_weibo )  public   class   WeiboViewModel   extends   GeneralViewModel { \n\n     protected   NineImageViewModel   mNineImageViewModel ; \n\n     protected   Weibo   mWeibo ; \n\n     @Override   protected   void   onInit (){ \n         //\u5b8c\u6210\u59d4\u6258 \n         mNineImageViewModel   =   Pan . with ( getLifecylceObserved (),   NineImageViewModel . class ) \n                     . controlledBy ( NineImageController . class ) \n                     . setData ( mWeibo   !=   null   :   mWeibo . getImages ():   null ) \n                     . getViewModel ( getRootView ());   //\u5982\u679c\u8981\u81ea\u884c\u521b\u5efaView\u800c\u975e\u5916\u5c42View\u7684Xml\uff0c\u8fd9\u91cc\u53ef\u4ee5\u4f7f\u7528\u5176\u4ed6\u91cd\u8f7d\uff0c\u518d\u901a\u8fc7rootView\u52a0\u5165\u754c\u9762\u3002 \n     } \n\n     public   WeiboViewModel   setData ( Weibo   weibo ){ \n         mWeibo   =   weibo ; \n         if ( mNineImageViewModel   !=   null ){ \n             mNineImageViewModel . setData ( weibo . getImages ()); \n         } \n     } \n\n     @Override   public   void   render (){ \n         mNineImageViewModel . render (); \n         //... \n     }  }", 
            "title": "ViewModel\u59d4\u6258"
        }, 
        {
            "location": "/\u590d\u7528_\u7ee7\u627f\u548c\u59d4\u6258/#controller", 
            "text": "\u968f\u7740ViewModel\u7684\u7ee7\u627f\uff0cController\u53ef\u4ee5\u8fdb\u884c\u5bf9\u5e94\u7684\u7ee7\u627f\uff0c\u4ee5\u590d\u7528\u63a7\u5236\u903b\u8f91\u3002Controller\u7684\u7ee7\u627f\u65f6\uff0c\u7a0d\u7a0d\u5904\u7406\u4e00\u4e0b\u7ed1\u5b9aViewModel\u7c7b\u578b\u7684\u6cdb\u578b\u53c2\u6570\u5c31\u53ef\u4ee5\u4e86\uff0c\u53c2\u8003\u4e0b\u9762\u7684UML\uff1a   \u7ee7\u627f\u540e\u7684Controller\uff0c\u5b50\u7c7b\u53ef\u4ee5\u589e\u52a0\u989d\u5916\u7684\u63a7\u5236\u903b\u8f91\uff0c\u4e5f\u53ef\u4ee5\u6709\u9009\u62e9\u7684\u8986\u76d6\u7236\u7c7b\u7684\u63a7\u5236\u903b\u8f91\u3002", 
            "title": "Controller\u7684\u7ee7\u627f"
        }, 
        {
            "location": "/ViewHolder\u6a21\u5f0f\u548c\u5d4c\u5957\u4f7f\u7528/", 
            "text": "ViewHolder \u6a21\u5f0f\n\n\nPan\u539f\u751f\u5b9e\u73b0\u4e86ViewHolder\u6a21\u5f0f\uff0c\u5f00\u53d1\u8005\u65e0\u9700\u81ea\u884c\u7ed1\u5b9aViewHolder\u3002\n\n\nListView\uff0cAdapter\u548cViewModel\u7684\u5d4c\u5957\n\n\n\u5728ListView\u6216GridView\u7b49\u53ef\u91cd\u590d\u5e03\u5c40\u4e2d\uff0c\u90fd\u9700\u8981\u4f7f\u7528\u5230Adapter\uff0c\u4e00\u822c\u6765\u8bf4\uff0c\u901a\u8fc7\u7ee7\u627fBaseAdapter\u5e76\u5b9e\u73b0\u76f8\u5e94\u65b9\u6cd5\u6765\u5b8c\u6210\u3002\n\n\n\u4f7f\u7528ListView\u7684\u754c\u9762\u4e2d\uff0c\u754c\u9762\u5b9e\u9645\u4e0a\u88ab\u5206\u4e3a\u4e86\u4e24\u5c42\uff1a\n\n\n\n\n\u5217\u8868\u5c42\uff0c\u5373ListView\uff0c\u4ee5\u53ca\u4e0eListView\u540c\u7ea7\u7684\u5176\u4ed6View\uff0c\u4f8b\u5982list.xml\n\n\nItem\u5c42\uff0c\u5373ListView\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\uff0c\u540c\u65f6\uff0c\u53ef\u80fd\u8fd8\u6709headerView\u548cfooterView\u4ee5\u53ca\u5176\u4ed6\u81ea\u5b9a\u4e49\u7684View\uff0c\u540c\u5904\u8fd9\u4e00\u5c42\uff0c\u4f8b\u5982item.xml\n\n\n\n\n\u8fd9\u4e24\u5c42\u57fa\u672c\u6ca1\u6709\u5173\u7cfb\uff0c\u53ea\u901a\u8fc7Adapter\u5efa\u7acb\u4e86\u5fae\u5f31\u7684\u8054\u7cfb\uff0cItem\u5176\u5b9e\u5e76\u4e0d\u9700\u8981\u77e5\u9053\u81ea\u5df1\u8eab\u5904\u5728\u54ea\u4e2aListView\u4e2d\uff0c\u800cListView\u4e5f\u4e0d\u592a\u5173\u5fc3\u5e95\u5c42\u7684Item\u7684\u5177\u4f53\u5b9e\u73b0\u3002\u56e0\u6b64\uff0cViewModel\u4e5f\u53ef\u4ee5\u540c\u6837\u4f7f\u7528\u4e24\u5c42\uff0c\u4ee5\u660e\u786e\u8fd9\u79cd\u5f31\u5173\u7cfb\uff0c\u540c\u65f6\u89e3\u8026\u4e24\u5c42\u7684\u6e32\u67d3\u903b\u8f91\u3002\n\n\n\u9996\u5148\u662fListViewModel\uff0c\u4e3b\u8981\u8d1f\u8d23ListView\u5c42\u9762\u7684\u6e32\u67d3\uff0c\u540c\u65f6\u5728Adapter\u4e2d\u4f7f\u7528ItemViewModel\u628aItem\u7684\u6e32\u67d3\u4ee3\u7406\u51fa\u53bb\u3002\n\n\n@Xml\n(\nR\n.\nlayout\n.\nlist\n)\n\n\npublic\n \nclass\n \nListViewModel\n \nextends\n \nGeneralViewModel\n{\n\n\n    \n@Bind\n(\nR\n.\nid\n.\nlist\n)\n\n    \npublic\n \nListView\n \nvListView\n;\n\n\n    \nprivate\n \nList\nData\n \nmDatas\n;\n\n\n    \nprivate\n \nBaseAdapter\n \nmAdapter\n;\n\n\n    \n@Override\n \nprotected\n \nvoid\n \nonInit\n(){\n\n        \nvListView\n.\nsetAdapter\n(\nmAdapter\n \n=\n \nnew\n \nListViewAdapter\n());\n\n    \n}\n\n\n    \n@Override\n \nprotected\n \nvoid\n \nrender\n(){\n\n        \nmAdapter\n.\nnotifyDatasetChanged\n();\n\n    \n}\n\n\n    \npublic\n \nListViewModel\n \nsetData\n(\nList\nData\n \ndatas\n){\n\n        \nmDatas\n \n=\n \ndatas\n;\n\n        \nreturn\n \nthis\n;\n\n    \n}\n\n\n    \nclass\n \nListViewAdapter\n \nextends\n \nBaseAdapter\n{\n\n        \n//...\n\n\n        \n@Override\n\n        \npublic\n \nView\n \ngetView\n(\nint\n \nposition\n,\n \nView\n \nconvertView\n,\n \nViewGroup\n \nparent\n){\n\n\n            \n//\u4e24\u5c42ViewModel\u53ea\u6709\u975e\u5e38\u5f31\u7684\u8054\u7cfb\n\n            \nreturn\n \nPan\n.\nwith\n(\ngetActivity\n(),\n \nItemViewModel\n.\nclass\n)\n\n                \n.\ngetViewModel\n(\nparent\n,\n \nconvertView\n,\n \nfalse\n).\n\n                \n.\nsetData\n(\ndatas\n.\nget\n(\nposition\n))\n\n                \n.\ngetRootView\n();\n\n        \n}\n\n    \n}\n\n\n}\n\n\n\n\n\n\n\u5176\u6b21\u662fItemViewModel\uff0cItemViewModel\u5e76\u4e0d\u9700\u8981\u77e5\u9053\u81ea\u5df1\u88ab\u7528\u5728\u4e86\u4f55\u5904\uff0c\u53ef\u4ee5\u662fActivity\u4e2d\u67d0\u4e2a\u90e8\u5206\u4f7f\u7528\u4e86\uff0c\u4e5f\u53ef\u80fd\u662fAdapter\u4e2d\u4f7f\u7528\u4e86\uff0c\u4f46ItemViewModel\u5e76\u4e0d\u5173\u5fc3\u3002\n\n\n@Xml\n(\nR\n.\nlayout\n.\nitem\n)\n\n\npublic\n \nclass\n \nItemViewModel\n \nextends\n \nGeneralViewModel\n{\n\n\n    \n@Bind\n(\nR\n.\nid\n.\ntext\n)\n\n    \npublic\n \nTextView\n \nvTextView\n;\n\n\n    \nprivate\n \nData\n \nmData\n;\n\n\n    \npublic\n \nItemViewModel\n \nsetData\n(\nData\n \ndata\n){\n\n        \nmData\n \n=\n \ndata\n;\n\n        \nreturn\n \nthis\n;\n\n    \n}\n\n\n    \n@Override\n \nprotected\n \nvoid\n \nrender\n(){\n\n        \nvTextView\n.\nsetText\n(\nmData\n.\ntoString\n());\n\n    \n}\n\n\n\n}\n\n\n\n\n\n\n\u6700\u540e\uff0c\u5728Activity\u4e2d\u7684\u8c03\u7528\uff0c\u4e5f\u5f88\u7b80\u6d01\uff0c\u53ea\u9700\u8981\u7ed1\u5b9aListViewModel\u3002\n\n\n//\u5728Activity\u4e2d\n\n\nprotected\n \nvoid\n \nonCreate\n(\nBundle\n \nsavedInstance\n){\n\n    \nsuper\n.\nonCreate\n(\nsavedInstanceState\n);\n\n    \nsetContentView\n(\nR\n.\nlayout\n.\nactivity_main\n);\n\n\n    \nPan\n.\nwith\n(\nthis\n,\n \nListViewModel\n.\nclass\n)\n\n        \n.\ncontrolledBy\n(\nListViewController\n.\nclass\n)\n\n        \n.\ngetViewModel\n();\n\n\n}\n\n\n\n\n\n\nViewHolder\u91cd\u7528\u4e2d\u7684\u5f02\u6b65Controller\n\n\n\n\nController\u4e0d\u4f1a\u88ab\u91cd\u7528\n\n\nViewModel\u901a\u8fc7Tag\u8bc6\u522b\uff0c\u8fdb\u884c\u4e86\u91cd\u7528\uff0c\u4f46getViewModel\u4f1a\u91cd\u65b0\u5b9e\u4f8b\u5316\u4e00\u4e2aController\u5e76\u6267\u884c\u65b0\u7684\u521d\u59cb\u5316\u5468\u671f\u3002\n\n\n\n\n\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u8fd9\u662f\u7b26\u5408\u76f4\u89c9\u7684\u60c5\u51b5\uff0c\u56e0\u4e3a\u5f53\u7528\u6237\u4e0b\u6ed1\u5230\u4e0b\u4e00\u4e2a\u5361\u7247\u65f6\uff0c\u9700\u8981\u6839\u636e\u6570\u636e\u91cd\u65b0\u7ed1\u5b9a\u4e8b\u4ef6\u3002\u8fd9\u91cc\u7684\u4e3b\u8981\u95ee\u9898\u5728\u4e8e\uff0c\u5982\u679cController\u5305\u542b\u4e86\u5f02\u6b65\u64cd\u4f5c\uff0c\u4f8b\u5982\u8fdb\u884c\u4e86\u7f51\u7edc\u8bf7\u6c42\uff0c\u5f53\u8bf7\u6c42\u8fd4\u56de\u65f6\uff0c\u7528\u6237\u5df2\u7ecf\u4e0b\u6ed1\u4e86\uff0c\u53ef\u80fd\u7684\u72b6\u6001\u5982\u4e0b\uff1a\n\n\n\n\nViewModel\uff1a\u968f\u7740\u4e0b\u6ed1\uff0cViewModel\u88ab\u91cd\u7528\uff0c\u7ed1\u5b9a\u7684\u6570\u636e\u88ab\u66f4\u65b0\n\n\nOld Controller\uff1a\u53d1\u8d77\u8bf7\u6c42\u7684Controller\uff0c\u542b\u6709ViewModel\u5f15\u7528\uff0c\u4e14\u5728\u8bf7\u6c42\u8fd4\u56de\u65f6\uff0c\u5c1d\u8bd5\u66f4\u65b0\u6570\u636e\n\n\nNew Controller\uff1a\u4e0b\u6ed1\u540e\uff0c\u65b0\u7684Item\u7ed1\u5b9a\u7684Controller\n\n\n\n\n\u56e0\u6b64\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\uff0c\u5e94\u6ce8\u610f\u5f02\u6b65\u66f4\u65b0\u6570\u636e\u4e0d\u5e94\u8be5\u76f4\u63a5\u901a\u8fc7ViewModel\u7684\u5f15\u7528\u66f4\u65b0\u6570\u636e\uff0c\u800c\u662f\u66f4\u65b0final\u5316\u7684\u65b9\u6cd5\u5185\u5c40\u57df\u53d8\u91cf\uff0c\u4f8b\u5982\uff1a\n\n\n//in controller\n\n\nprotected\n \nvoid\n \nupdateInfo\n(){\n\n    \nfinal\n \nData\n \nbindedData\n \n=\n \n$vm\n.\ngetData\n();\n\n    \nrequestData\n((\ndata\n)\n \n-\n \n{\n\n        \nbindedData\n.\nsetText\n(\ndata\n.\ngetText\n());\n\n\n        \n// wrong way:\n\n        \n// $vm.getData().setText(data.getText());\n\n    \n});\n\n\n}\n\n\n\n\n\n\n\u8fd9\u4e2a\u5751\u662fViewHolder\u6a21\u5f0f\u4e0e\u751f\u4ff1\u6765\u7684\uff0c\u800c\u4e0d\u662fPan\u5f15\u8d77\u7684\u3002\u5728\u4e0d\u4f7f\u7528Pan\u7684\u60c5\u51b5\u4e0b\uff0c\u540c\u6837\u7684\u66f4\u65b0\u9519\u8bef\u4e5f\u53ef\u80fd\u4f1a\u5728Adapter\u4e2d\u53d1\u751f\u3002Pan\u5e76\u4e0d\u89e3\u51b3\u8fd9\u4e00\u95ee\u9898\uff0c\u56e0\u4e3a\u5927\u591a\u6570\u60c5\u51b5\u4e0bAdapter\u4e2d\u7684\u6570\u636e\u662f\u4f34\u968f\u5217\u8868\u6539\u53d8\u7684\uff0c\u800c\u4e0d\u662f\u81ea\u884c\u5f02\u6b65\u66f4\u65b0\u3002\u5f53\u9047\u5230\u5f02\u6b65\u66f4\u65b0\u7684\u60c5\u51b5\uff0c\u5f00\u53d1\u8005\u4e5f\u5e94\u8be5\u6e05\u695a\u5728ViewHolder\u6a21\u5f0f\u4e2d\u8fd9\u4f1a\u5e26\u6765\u7684\u95ee\u9898\uff0c\u5c0f\u5fc3\u5373\u53ef\u3002\n\n\nRecyclerViewModel\n\n\nRecyclerViewModel\u7528\u4e8eRecyclerView\u4e2d\uff0c\u7531\u4e8eJava\u7684\u5355\u7ee7\u627f\uff0cRecyclerView.Adapter\u9700\u8981\u8fd4\u56de\u4e00\u4e2aViewHolder\u7684\u5b50\u7c7b\u5bf9\u8c61\uff0c\u56e0\u6b64\uff0c\u8fd9\u91cc\u4f7f\u7528RecyclerViewModel\u4f5c\u4e3a\u57fa\u7c7b\u4ee5\u66ff\u6362GeneralViewModel\u3002\u5176\u4ed6\u7528\u6cd5\u548cListView\u5b8c\u5168\u4e00\u81f4\u3002\n\n\n@Xml\n(\nR\n.\nlayout\n.\nitem\n)\n\n\npublic\n \nclass\n \nRecyclerItemViewModel\n \nextends\n \nRecyclerViewModel\n{\n\n    \n//...\n\n\n}\n\n\n\n//Adapter\n\n\npublic\n \nclass\n \nRecyclerViewAdapter\n \nextends\n \nRecyclerView\n.\nAdapter\nRecyclerItemViewModel\n{\n\n\n    \n@Override\n \nRecyclerItemViewModel\n \nonCreateViewHoler\n(\nViewGroup\n \nparent\n,\n \nint\n \nviewType\n){\n\n        \nreturn\n \nPan\n.\nwith\n(\ngetLifecycleObserved\n(),\n \nRecyclerItemViewModel\n.\nclass\n)\n\n                \n.\ngetViewModel\n(\nparent\n,\n \nnull\n,\n \nfalse\n);\n\n    \n}\n\n\n    \n@Override\n \nvoid\n \nonBindViewHolder\n(\nRecyclerItemViewModel\n \nholder\n,\n \nint\n \nposition\n){\n\n        \n//holder.setData(...)\n\n    \n}\n\n\n}", 
            "title": "ViewHolder\u6a21\u5f0f\u548c\u5d4c\u5957\u4f7f\u7528"
        }, 
        {
            "location": "/ViewHolder\u6a21\u5f0f\u548c\u5d4c\u5957\u4f7f\u7528/#viewholder", 
            "text": "Pan\u539f\u751f\u5b9e\u73b0\u4e86ViewHolder\u6a21\u5f0f\uff0c\u5f00\u53d1\u8005\u65e0\u9700\u81ea\u884c\u7ed1\u5b9aViewHolder\u3002", 
            "title": "ViewHolder \u6a21\u5f0f"
        }, 
        {
            "location": "/ViewHolder\u6a21\u5f0f\u548c\u5d4c\u5957\u4f7f\u7528/#listviewadapterviewmodel", 
            "text": "\u5728ListView\u6216GridView\u7b49\u53ef\u91cd\u590d\u5e03\u5c40\u4e2d\uff0c\u90fd\u9700\u8981\u4f7f\u7528\u5230Adapter\uff0c\u4e00\u822c\u6765\u8bf4\uff0c\u901a\u8fc7\u7ee7\u627fBaseAdapter\u5e76\u5b9e\u73b0\u76f8\u5e94\u65b9\u6cd5\u6765\u5b8c\u6210\u3002  \u4f7f\u7528ListView\u7684\u754c\u9762\u4e2d\uff0c\u754c\u9762\u5b9e\u9645\u4e0a\u88ab\u5206\u4e3a\u4e86\u4e24\u5c42\uff1a   \u5217\u8868\u5c42\uff0c\u5373ListView\uff0c\u4ee5\u53ca\u4e0eListView\u540c\u7ea7\u7684\u5176\u4ed6View\uff0c\u4f8b\u5982list.xml  Item\u5c42\uff0c\u5373ListView\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\uff0c\u540c\u65f6\uff0c\u53ef\u80fd\u8fd8\u6709headerView\u548cfooterView\u4ee5\u53ca\u5176\u4ed6\u81ea\u5b9a\u4e49\u7684View\uff0c\u540c\u5904\u8fd9\u4e00\u5c42\uff0c\u4f8b\u5982item.xml   \u8fd9\u4e24\u5c42\u57fa\u672c\u6ca1\u6709\u5173\u7cfb\uff0c\u53ea\u901a\u8fc7Adapter\u5efa\u7acb\u4e86\u5fae\u5f31\u7684\u8054\u7cfb\uff0cItem\u5176\u5b9e\u5e76\u4e0d\u9700\u8981\u77e5\u9053\u81ea\u5df1\u8eab\u5904\u5728\u54ea\u4e2aListView\u4e2d\uff0c\u800cListView\u4e5f\u4e0d\u592a\u5173\u5fc3\u5e95\u5c42\u7684Item\u7684\u5177\u4f53\u5b9e\u73b0\u3002\u56e0\u6b64\uff0cViewModel\u4e5f\u53ef\u4ee5\u540c\u6837\u4f7f\u7528\u4e24\u5c42\uff0c\u4ee5\u660e\u786e\u8fd9\u79cd\u5f31\u5173\u7cfb\uff0c\u540c\u65f6\u89e3\u8026\u4e24\u5c42\u7684\u6e32\u67d3\u903b\u8f91\u3002  \u9996\u5148\u662fListViewModel\uff0c\u4e3b\u8981\u8d1f\u8d23ListView\u5c42\u9762\u7684\u6e32\u67d3\uff0c\u540c\u65f6\u5728Adapter\u4e2d\u4f7f\u7528ItemViewModel\u628aItem\u7684\u6e32\u67d3\u4ee3\u7406\u51fa\u53bb\u3002  @Xml ( R . layout . list )  public   class   ListViewModel   extends   GeneralViewModel { \n\n     @Bind ( R . id . list ) \n     public   ListView   vListView ; \n\n     private   List Data   mDatas ; \n\n     private   BaseAdapter   mAdapter ; \n\n     @Override   protected   void   onInit (){ \n         vListView . setAdapter ( mAdapter   =   new   ListViewAdapter ()); \n     } \n\n     @Override   protected   void   render (){ \n         mAdapter . notifyDatasetChanged (); \n     } \n\n     public   ListViewModel   setData ( List Data   datas ){ \n         mDatas   =   datas ; \n         return   this ; \n     } \n\n     class   ListViewAdapter   extends   BaseAdapter { \n         //... \n\n         @Override \n         public   View   getView ( int   position ,   View   convertView ,   ViewGroup   parent ){ \n\n             //\u4e24\u5c42ViewModel\u53ea\u6709\u975e\u5e38\u5f31\u7684\u8054\u7cfb \n             return   Pan . with ( getActivity (),   ItemViewModel . class ) \n                 . getViewModel ( parent ,   convertView ,   false ). \n                 . setData ( datas . get ( position )) \n                 . getRootView (); \n         } \n     }  }   \u5176\u6b21\u662fItemViewModel\uff0cItemViewModel\u5e76\u4e0d\u9700\u8981\u77e5\u9053\u81ea\u5df1\u88ab\u7528\u5728\u4e86\u4f55\u5904\uff0c\u53ef\u4ee5\u662fActivity\u4e2d\u67d0\u4e2a\u90e8\u5206\u4f7f\u7528\u4e86\uff0c\u4e5f\u53ef\u80fd\u662fAdapter\u4e2d\u4f7f\u7528\u4e86\uff0c\u4f46ItemViewModel\u5e76\u4e0d\u5173\u5fc3\u3002  @Xml ( R . layout . item )  public   class   ItemViewModel   extends   GeneralViewModel { \n\n     @Bind ( R . id . text ) \n     public   TextView   vTextView ; \n\n     private   Data   mData ; \n\n     public   ItemViewModel   setData ( Data   data ){ \n         mData   =   data ; \n         return   this ; \n     } \n\n     @Override   protected   void   render (){ \n         vTextView . setText ( mData . toString ()); \n     }  }   \u6700\u540e\uff0c\u5728Activity\u4e2d\u7684\u8c03\u7528\uff0c\u4e5f\u5f88\u7b80\u6d01\uff0c\u53ea\u9700\u8981\u7ed1\u5b9aListViewModel\u3002  //\u5728Activity\u4e2d  protected   void   onCreate ( Bundle   savedInstance ){ \n     super . onCreate ( savedInstanceState ); \n     setContentView ( R . layout . activity_main ); \n\n     Pan . with ( this ,   ListViewModel . class ) \n         . controlledBy ( ListViewController . class ) \n         . getViewModel ();  }", 
            "title": "ListView\uff0cAdapter\u548cViewModel\u7684\u5d4c\u5957"
        }, 
        {
            "location": "/ViewHolder\u6a21\u5f0f\u548c\u5d4c\u5957\u4f7f\u7528/#viewholdercontroller", 
            "text": "Controller\u4e0d\u4f1a\u88ab\u91cd\u7528  ViewModel\u901a\u8fc7Tag\u8bc6\u522b\uff0c\u8fdb\u884c\u4e86\u91cd\u7528\uff0c\u4f46getViewModel\u4f1a\u91cd\u65b0\u5b9e\u4f8b\u5316\u4e00\u4e2aController\u5e76\u6267\u884c\u65b0\u7684\u521d\u59cb\u5316\u5468\u671f\u3002   \u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u8fd9\u662f\u7b26\u5408\u76f4\u89c9\u7684\u60c5\u51b5\uff0c\u56e0\u4e3a\u5f53\u7528\u6237\u4e0b\u6ed1\u5230\u4e0b\u4e00\u4e2a\u5361\u7247\u65f6\uff0c\u9700\u8981\u6839\u636e\u6570\u636e\u91cd\u65b0\u7ed1\u5b9a\u4e8b\u4ef6\u3002\u8fd9\u91cc\u7684\u4e3b\u8981\u95ee\u9898\u5728\u4e8e\uff0c\u5982\u679cController\u5305\u542b\u4e86\u5f02\u6b65\u64cd\u4f5c\uff0c\u4f8b\u5982\u8fdb\u884c\u4e86\u7f51\u7edc\u8bf7\u6c42\uff0c\u5f53\u8bf7\u6c42\u8fd4\u56de\u65f6\uff0c\u7528\u6237\u5df2\u7ecf\u4e0b\u6ed1\u4e86\uff0c\u53ef\u80fd\u7684\u72b6\u6001\u5982\u4e0b\uff1a   ViewModel\uff1a\u968f\u7740\u4e0b\u6ed1\uff0cViewModel\u88ab\u91cd\u7528\uff0c\u7ed1\u5b9a\u7684\u6570\u636e\u88ab\u66f4\u65b0  Old Controller\uff1a\u53d1\u8d77\u8bf7\u6c42\u7684Controller\uff0c\u542b\u6709ViewModel\u5f15\u7528\uff0c\u4e14\u5728\u8bf7\u6c42\u8fd4\u56de\u65f6\uff0c\u5c1d\u8bd5\u66f4\u65b0\u6570\u636e  New Controller\uff1a\u4e0b\u6ed1\u540e\uff0c\u65b0\u7684Item\u7ed1\u5b9a\u7684Controller   \u56e0\u6b64\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\uff0c\u5e94\u6ce8\u610f\u5f02\u6b65\u66f4\u65b0\u6570\u636e\u4e0d\u5e94\u8be5\u76f4\u63a5\u901a\u8fc7ViewModel\u7684\u5f15\u7528\u66f4\u65b0\u6570\u636e\uff0c\u800c\u662f\u66f4\u65b0final\u5316\u7684\u65b9\u6cd5\u5185\u5c40\u57df\u53d8\u91cf\uff0c\u4f8b\u5982\uff1a  //in controller  protected   void   updateInfo (){ \n     final   Data   bindedData   =   $vm . getData (); \n     requestData (( data )   -   { \n         bindedData . setText ( data . getText ()); \n\n         // wrong way: \n         // $vm.getData().setText(data.getText()); \n     });  }   \u8fd9\u4e2a\u5751\u662fViewHolder\u6a21\u5f0f\u4e0e\u751f\u4ff1\u6765\u7684\uff0c\u800c\u4e0d\u662fPan\u5f15\u8d77\u7684\u3002\u5728\u4e0d\u4f7f\u7528Pan\u7684\u60c5\u51b5\u4e0b\uff0c\u540c\u6837\u7684\u66f4\u65b0\u9519\u8bef\u4e5f\u53ef\u80fd\u4f1a\u5728Adapter\u4e2d\u53d1\u751f\u3002Pan\u5e76\u4e0d\u89e3\u51b3\u8fd9\u4e00\u95ee\u9898\uff0c\u56e0\u4e3a\u5927\u591a\u6570\u60c5\u51b5\u4e0bAdapter\u4e2d\u7684\u6570\u636e\u662f\u4f34\u968f\u5217\u8868\u6539\u53d8\u7684\uff0c\u800c\u4e0d\u662f\u81ea\u884c\u5f02\u6b65\u66f4\u65b0\u3002\u5f53\u9047\u5230\u5f02\u6b65\u66f4\u65b0\u7684\u60c5\u51b5\uff0c\u5f00\u53d1\u8005\u4e5f\u5e94\u8be5\u6e05\u695a\u5728ViewHolder\u6a21\u5f0f\u4e2d\u8fd9\u4f1a\u5e26\u6765\u7684\u95ee\u9898\uff0c\u5c0f\u5fc3\u5373\u53ef\u3002", 
            "title": "ViewHolder\u91cd\u7528\u4e2d\u7684\u5f02\u6b65Controller"
        }, 
        {
            "location": "/ViewHolder\u6a21\u5f0f\u548c\u5d4c\u5957\u4f7f\u7528/#recyclerviewmodel", 
            "text": "RecyclerViewModel\u7528\u4e8eRecyclerView\u4e2d\uff0c\u7531\u4e8eJava\u7684\u5355\u7ee7\u627f\uff0cRecyclerView.Adapter\u9700\u8981\u8fd4\u56de\u4e00\u4e2aViewHolder\u7684\u5b50\u7c7b\u5bf9\u8c61\uff0c\u56e0\u6b64\uff0c\u8fd9\u91cc\u4f7f\u7528RecyclerViewModel\u4f5c\u4e3a\u57fa\u7c7b\u4ee5\u66ff\u6362GeneralViewModel\u3002\u5176\u4ed6\u7528\u6cd5\u548cListView\u5b8c\u5168\u4e00\u81f4\u3002  @Xml ( R . layout . item )  public   class   RecyclerItemViewModel   extends   RecyclerViewModel { \n     //...  }  //Adapter  public   class   RecyclerViewAdapter   extends   RecyclerView . Adapter RecyclerItemViewModel { \n\n     @Override   RecyclerItemViewModel   onCreateViewHoler ( ViewGroup   parent ,   int   viewType ){ \n         return   Pan . with ( getLifecycleObserved (),   RecyclerItemViewModel . class ) \n                 . getViewModel ( parent ,   null ,   false ); \n     } \n\n     @Override   void   onBindViewHolder ( RecyclerItemViewModel   holder ,   int   position ){ \n         //holder.setData(...) \n     }  }", 
            "title": "RecyclerViewModel"
        }, 
        {
            "location": "/\u5e38\u7528\u7684ViewModel\u5b9e\u73b0\u7c7b/", 
            "text": "\u5e38\u7528\u7684ViewModel\u5b9e\u73b0\u7c7b\n\n\nGeneralViewModel\n\n\nViewModel\u7406\u8bba\u4e0a\u90fd\u53ef\u4ee5\u76f4\u63a5\u7ee7\u627f\nGeneralViewModel\n\uff0c\u5b8c\u5168\u9075\u5faa\nViewModel\u7684\u751f\u547d\u5468\u671f\n\u3002\n\n\nGeneralViewModel\u9700\u8981\u6709\u4e00\u4e2a\u65e0\u53c2\u7684\u6784\u9020\u51fd\u6570\uff0c\u4ee5\u4f7f\u5de5\u5382\u53ef\u4ee5\u8fdb\u884c\u5b9e\u4f8b\u5316\u3002\u5728\u4f5c\u4e3a\u975e\u9759\u6001\u5185\u90e8\u7c7b\u7684\u60c5\u51b5\uff0c\u5de5\u5382\u65e0\u6cd5\u5b9e\u4f8b\u5316\u8be5\u5bf9\u8c61\uff0c\u6b64\u65f6\u53ef\u4ee5\u81ea\u884c\u5b9e\u4f8b\u5316\u540e\uff0c\u76f4\u63a5\u5c06\u5bf9\u8c61\u4f20\u5165\u5de5\u5382\u65b9\u6cd5\nwith\u7684\u91cd\u8f7d\n\u3002\n\n\nGeneralViewModel\u53ef\u4ee5\u7ed1\u5b9a\u4e00\u4e2aGeneralController\uff0c\u4e14\u8981\u6c42GeneralController\u7684\u6cdb\u578b\u53c2\u6570\u4e3a\u6b64ViewModel\u3002\n\n\nGeneralViewModel\u7684Controller\u5fc5\u987b\u8d1f\u8d23\u8c03\u7528ViewModel\u7684render\u65b9\u6cd5\u3002\u5373\u5728\u7279\u5b9a\u7684\u65f6\u673a\u66f4\u65b0\u754c\u9762\u3002\n\n\n\u5982\u679c\u662f\u7b80\u5355\u7684\u754c\u9762\uff0c\u5728\u5de5\u5382\u65b9\u6cd5\u7684\u7ed3\u5c3e\u53ef\u4ee5\u76f4\u63a5\u8fdb\u884c\u7b2c\u4e00\u6b21render\u5373\u53ef\uff0c\u4f8b\u5982\uff1a\n\n\nPan\n.\nwith\n(\ngetActivity\n(),\n \nMainViewModel\n.\nclass\n)\n\n    \n.\ngetViewModel\n()\n\n    \n.\nrender\n();\n\n\n\n\n\n\n\u4e00\u4e2a\u4e0d\u9519\u7684\u505a\u6cd5\u662f\uff0c\u5728\u60a8\u7684\u9879\u76ee\u4e2d\u7ee7\u627fGeneralViewModel\u5b9e\u73b0\u4e00\u4e2aCustomGeneralViewModel\uff0c\u6240\u6709\u7684ViewModel\u7ee7\u627f\u8fd9\u4e2a\u8ba2\u5236\u7684ViewModel\uff0c\u4ee5\u65b9\u4fbf\u540e\u671f\u6709\u5b9a\u5236\u5316\u9700\u6c42\u65f6\uff0c\u53ef\u4ee5\u65b9\u4fbf\u7684\u8ba2\u5236\u3002\n\n\nAutoRenderViewModel\n\n\nAutoRenderViewModel\n\u4e5f\u662f\u4e00\u4e2a\u5e38\u7528\u7684\u57fa\u7c7b\uff0c\u5176\u7279\u70b9\u662f\u4f1a\u81ea\u52a8\u8c03\u7528render\u8fdb\u884c\u6e32\u67d3\u3002\u81ea\u52a8\u6e32\u67d3\u7684\u65f6\u673a\u5982\u4e0b\uff1a\n\n\n\n\nActivity\u7684OnResume\uff08\u548cFragment\u7684OnResume\u5176\u5b9e\u662f\u540c\u65f6\u673a\uff09\n\n\nFragment\u7684setVisibleHint(true)\u7684\u60c5\u51b5\uff0c\u5373OnVisible\u63a5\u53e3\u65b9\u6cd5\u5f97\u5230\u53c2\u6570true\n\n\n\n\nAutoRenderViewModel\u7684\u5b50\u7c7b\u9700\u8981\u989d\u5916\u5b9e\u73b0\nloadDataQuickly\n\u65b9\u6cd5\uff0c\u4f1a\u5728\u6bcf\u6b21render\u524d\u8c03\u7528\uff0c\u4ee5\u9002\u5f53\u7684\u66f4\u65b0\u6570\u636e\u3002\u6ce8\u610f\uff0c\u6b64\u65b9\u6cd5\u4f1a\u5728\u4e3b\u8fdb\u7a0b\u88ab\u8c03\u7528\uff0c\u9700\u8981\u4fdd\u8bc1\u5176\u4e0d\u4f1a\u963b\u585e\u3002\n\n\n\u5f53\u6ca1\u6709\u590d\u6742\u7684\u7528\u6237\u4ea4\u4e92\u65f6\uff0cAutoRenderViewModel\u53ef\u4ee5\u6ee1\u8db3\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u7684\u9875\u9762\u91cd\u7ed8\u3002\n\n\n\u5728\u4e00\u4e9b\u573a\u666f\u4e0b\uff0cAutoRenderViewModel\u7684\u5b50\u7c7b\u53ef\u80fd\u4e0d\u5e0c\u671b\u81ea\u52a8\u7ed8\u5236\uff0c\u53ef\u4ee5\u901a\u8fc7\u91cd\u8f7d\nshouldRenderOnTrigger\n\u4ee5\u8ba2\u5236\u81ea\u52a8\u7ed8\u5236\u7684\u884c\u4e3a\u3002\n\n\n\u81ea\u52a8\u7ed8\u5236\u7684\u529f\u80fd\u5b9e\u73b0\u662f\u901a\u8fc7\nAutoRenderControllerLifecyclePlugin\n\u5b9e\u73b0\u7684\uff0c\u6709\u5174\u8da3\u53ef\u4ee5\u770b\u4e0b\u6e90\u7801\u3002\n\n\nRecyclerViewModel\n\n\nRecyclerViewModel\u548cGeneralViewModel\u7684\u5b9e\u73b0\u5b8c\u5168\u4e00\u81f4\uff0c\u540c\u65f6\u7ee7\u627f\u4e86RecyclerView.ViewHolder\uff0c\u53ef\u4ee5\u65b9\u4fbf\u7684\u548cRecyclerViewModel\u642d\u914d\u4f7f\u7528\u3002\n\n\nFactoryViewModel:\u8ba2\u5236Pan\u6846\u67b6\n\n\nPan\u6846\u67b6\u672c\u8eab\u5e76\u4e0d\u4f9d\u8d56GeneralViewModel\u7684\u5b9e\u73b0\uff0c\u56e0\u6b64\uff0c\u5982\u679c\u60f3\u6df1\u5ea6\u8ba2\u5236Pan\u6846\u67b6\uff0c\u4f8b\u5982\u8ba2\u5236ViewModel\u7684\u751f\u547d\u5468\u671f\uff0c\u53ef\u4ee5\u81ea\u884c\u5b9e\u73b0FactoryViewModel\u4f5c\u4e3a\u57fa\u7c7b\uff0cPan\u7684\u7528\u6cd5\u53ef\u4ee5\u4fdd\u6301\u4e00\u81f4\u3002\u5f53\u7136\uff0c\u63a8\u8350\u7684\u505a\u6cd5\u4ecd\u7136\u662f\u7ee7\u627fGeneralViewModel\u6765\u8ba2\u5236\u4e00\u4e2a\u57fa\u7c7b\uff0c\u5e76\u589e\u52a0\u81ea\u5df1\u7684\u989d\u5916\u7684hook\uff0c\u4ece\u800c\u8ba9ViewModel\u7b26\u5408\u6587\u6863\u4e2d\u63cf\u8ff0\u7684\u751f\u547d\u5468\u671f\u3002", 
            "title": "\u5e38\u7528\u7684ViewModel\u5b9e\u73b0\u7c7b"
        }, 
        {
            "location": "/\u5e38\u7528\u7684ViewModel\u5b9e\u73b0\u7c7b/#viewmodel", 
            "text": "", 
            "title": "\u5e38\u7528\u7684ViewModel\u5b9e\u73b0\u7c7b"
        }, 
        {
            "location": "/\u5e38\u7528\u7684ViewModel\u5b9e\u73b0\u7c7b/#generalviewmodel", 
            "text": "ViewModel\u7406\u8bba\u4e0a\u90fd\u53ef\u4ee5\u76f4\u63a5\u7ee7\u627f GeneralViewModel \uff0c\u5b8c\u5168\u9075\u5faa ViewModel\u7684\u751f\u547d\u5468\u671f \u3002  GeneralViewModel\u9700\u8981\u6709\u4e00\u4e2a\u65e0\u53c2\u7684\u6784\u9020\u51fd\u6570\uff0c\u4ee5\u4f7f\u5de5\u5382\u53ef\u4ee5\u8fdb\u884c\u5b9e\u4f8b\u5316\u3002\u5728\u4f5c\u4e3a\u975e\u9759\u6001\u5185\u90e8\u7c7b\u7684\u60c5\u51b5\uff0c\u5de5\u5382\u65e0\u6cd5\u5b9e\u4f8b\u5316\u8be5\u5bf9\u8c61\uff0c\u6b64\u65f6\u53ef\u4ee5\u81ea\u884c\u5b9e\u4f8b\u5316\u540e\uff0c\u76f4\u63a5\u5c06\u5bf9\u8c61\u4f20\u5165\u5de5\u5382\u65b9\u6cd5 with\u7684\u91cd\u8f7d \u3002  GeneralViewModel\u53ef\u4ee5\u7ed1\u5b9a\u4e00\u4e2aGeneralController\uff0c\u4e14\u8981\u6c42GeneralController\u7684\u6cdb\u578b\u53c2\u6570\u4e3a\u6b64ViewModel\u3002  GeneralViewModel\u7684Controller\u5fc5\u987b\u8d1f\u8d23\u8c03\u7528ViewModel\u7684render\u65b9\u6cd5\u3002\u5373\u5728\u7279\u5b9a\u7684\u65f6\u673a\u66f4\u65b0\u754c\u9762\u3002  \u5982\u679c\u662f\u7b80\u5355\u7684\u754c\u9762\uff0c\u5728\u5de5\u5382\u65b9\u6cd5\u7684\u7ed3\u5c3e\u53ef\u4ee5\u76f4\u63a5\u8fdb\u884c\u7b2c\u4e00\u6b21render\u5373\u53ef\uff0c\u4f8b\u5982\uff1a  Pan . with ( getActivity (),   MainViewModel . class ) \n     . getViewModel () \n     . render ();   \u4e00\u4e2a\u4e0d\u9519\u7684\u505a\u6cd5\u662f\uff0c\u5728\u60a8\u7684\u9879\u76ee\u4e2d\u7ee7\u627fGeneralViewModel\u5b9e\u73b0\u4e00\u4e2aCustomGeneralViewModel\uff0c\u6240\u6709\u7684ViewModel\u7ee7\u627f\u8fd9\u4e2a\u8ba2\u5236\u7684ViewModel\uff0c\u4ee5\u65b9\u4fbf\u540e\u671f\u6709\u5b9a\u5236\u5316\u9700\u6c42\u65f6\uff0c\u53ef\u4ee5\u65b9\u4fbf\u7684\u8ba2\u5236\u3002", 
            "title": "GeneralViewModel"
        }, 
        {
            "location": "/\u5e38\u7528\u7684ViewModel\u5b9e\u73b0\u7c7b/#autorenderviewmodel", 
            "text": "AutoRenderViewModel \u4e5f\u662f\u4e00\u4e2a\u5e38\u7528\u7684\u57fa\u7c7b\uff0c\u5176\u7279\u70b9\u662f\u4f1a\u81ea\u52a8\u8c03\u7528render\u8fdb\u884c\u6e32\u67d3\u3002\u81ea\u52a8\u6e32\u67d3\u7684\u65f6\u673a\u5982\u4e0b\uff1a   Activity\u7684OnResume\uff08\u548cFragment\u7684OnResume\u5176\u5b9e\u662f\u540c\u65f6\u673a\uff09  Fragment\u7684setVisibleHint(true)\u7684\u60c5\u51b5\uff0c\u5373OnVisible\u63a5\u53e3\u65b9\u6cd5\u5f97\u5230\u53c2\u6570true   AutoRenderViewModel\u7684\u5b50\u7c7b\u9700\u8981\u989d\u5916\u5b9e\u73b0 loadDataQuickly \u65b9\u6cd5\uff0c\u4f1a\u5728\u6bcf\u6b21render\u524d\u8c03\u7528\uff0c\u4ee5\u9002\u5f53\u7684\u66f4\u65b0\u6570\u636e\u3002\u6ce8\u610f\uff0c\u6b64\u65b9\u6cd5\u4f1a\u5728\u4e3b\u8fdb\u7a0b\u88ab\u8c03\u7528\uff0c\u9700\u8981\u4fdd\u8bc1\u5176\u4e0d\u4f1a\u963b\u585e\u3002  \u5f53\u6ca1\u6709\u590d\u6742\u7684\u7528\u6237\u4ea4\u4e92\u65f6\uff0cAutoRenderViewModel\u53ef\u4ee5\u6ee1\u8db3\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u7684\u9875\u9762\u91cd\u7ed8\u3002  \u5728\u4e00\u4e9b\u573a\u666f\u4e0b\uff0cAutoRenderViewModel\u7684\u5b50\u7c7b\u53ef\u80fd\u4e0d\u5e0c\u671b\u81ea\u52a8\u7ed8\u5236\uff0c\u53ef\u4ee5\u901a\u8fc7\u91cd\u8f7d shouldRenderOnTrigger \u4ee5\u8ba2\u5236\u81ea\u52a8\u7ed8\u5236\u7684\u884c\u4e3a\u3002  \u81ea\u52a8\u7ed8\u5236\u7684\u529f\u80fd\u5b9e\u73b0\u662f\u901a\u8fc7 AutoRenderControllerLifecyclePlugin \u5b9e\u73b0\u7684\uff0c\u6709\u5174\u8da3\u53ef\u4ee5\u770b\u4e0b\u6e90\u7801\u3002", 
            "title": "AutoRenderViewModel"
        }, 
        {
            "location": "/\u5e38\u7528\u7684ViewModel\u5b9e\u73b0\u7c7b/#recyclerviewmodel", 
            "text": "RecyclerViewModel\u548cGeneralViewModel\u7684\u5b9e\u73b0\u5b8c\u5168\u4e00\u81f4\uff0c\u540c\u65f6\u7ee7\u627f\u4e86RecyclerView.ViewHolder\uff0c\u53ef\u4ee5\u65b9\u4fbf\u7684\u548cRecyclerViewModel\u642d\u914d\u4f7f\u7528\u3002", 
            "title": "RecyclerViewModel"
        }, 
        {
            "location": "/\u5e38\u7528\u7684ViewModel\u5b9e\u73b0\u7c7b/#factoryviewmodelpan", 
            "text": "Pan\u6846\u67b6\u672c\u8eab\u5e76\u4e0d\u4f9d\u8d56GeneralViewModel\u7684\u5b9e\u73b0\uff0c\u56e0\u6b64\uff0c\u5982\u679c\u60f3\u6df1\u5ea6\u8ba2\u5236Pan\u6846\u67b6\uff0c\u4f8b\u5982\u8ba2\u5236ViewModel\u7684\u751f\u547d\u5468\u671f\uff0c\u53ef\u4ee5\u81ea\u884c\u5b9e\u73b0FactoryViewModel\u4f5c\u4e3a\u57fa\u7c7b\uff0cPan\u7684\u7528\u6cd5\u53ef\u4ee5\u4fdd\u6301\u4e00\u81f4\u3002\u5f53\u7136\uff0c\u63a8\u8350\u7684\u505a\u6cd5\u4ecd\u7136\u662f\u7ee7\u627fGeneralViewModel\u6765\u8ba2\u5236\u4e00\u4e2a\u57fa\u7c7b\uff0c\u5e76\u589e\u52a0\u81ea\u5df1\u7684\u989d\u5916\u7684hook\uff0c\u4ece\u800c\u8ba9ViewModel\u7b26\u5408\u6587\u6863\u4e2d\u63cf\u8ff0\u7684\u751f\u547d\u5468\u671f\u3002", 
            "title": "FactoryViewModel:\u8ba2\u5236Pan\u6846\u67b6"
        }, 
        {
            "location": "/\u62d3\u5c55_\u63d2\u4ef6\u7cfb\u7edf/", 
            "text": "\u63d2\u4ef6\u7cfb\u7edf\n\n\nPan\u8bbe\u8ba1\u4e86\u4e00\u4e2a\u9488\u5bf9\u751f\u547d\u5468\u671f\u7684\u63d2\u4ef6\u7cfb\u7edf\uff0c\u4ee5\u4fbf\u4f7f\u7528\u8005\u642d\u914dController\u5f00\u53d1\u989d\u5916\u7684\u7279\u6027\u3002\n\n\n\u81ea\u5b9a\u4e49\u63d2\u4ef6\n\n\nPan\u7684\u81ea\u5b9a\u4e49\u63d2\u4ef6\u901a\u8fc7\u5b9e\u73b0\nControllerLifecyclePlugin\n\u63a5\u53e3\u5b9e\u73b0:\n\n\npublic\n \ninterface\n \nControllerLifecyclePlugin\n{\n\n\n    \nvoid\n \ncall\n(\nController\n \ncontroller\n,\n \nClass\n?\n \nextends\n \nLifecycleObserver\n \nlifecycleObserver\n,\n \nObject\n...\n \nparameters\n);\n\n\n}\n\n\n\n\n\n\n\u63d2\u4ef6\u4f1a\u5728\u6240\u6709Activity/Fragment\u751f\u547d\u5468\u671f\u7684\u56de\u8c03\u4e2d\u8c03\u7528\u63d2\u4ef6\uff0ccall\u65b9\u6cd5\u4e00\u5171\u6709\u4e09\u4e2a\u53c2\u6570\uff1a\n\n\n\n\nController\uff0c\u5373\u4e8b\u4ef6\u53d1\u751f\u65f6\uff0c\u8d77\u4f5c\u7528\u7684Controller\uff0c\u90fd\u4f1a\u8c03\u7528\u4e00\u6b21call\n\n\n\u5f53\u524d\u7684\u4e8b\u4ef6\uff0c\u4f8b\u5982\nOnResume.class\n\n\n\u5982\u679c\u5f53\u524d\u7684\u751f\u547d\u5468\u671f\u65b9\u6cd5\u6709\u53c2\u6570\uff0c\u5219\u90fd\u653e\u5728parameters\u4e2d\uff0c\u4f8b\u5982onActivityResult\u7684\u6240\u6709\u53c2\u6570\u3002\n\n\n\n\n\u5b9e\u73b0\u4e86\u63d2\u4ef6\u540e\uff0c\u53ef\u4ee5\u5728App\u7684onCreate\u65b9\u6cd5\u4e2d\u5b89\u88c5\u63d2\u4ef6\uff1a\n\n\nPan\n.\ninstallPlugin\n(\nnew\n \nCustomPlugin\n());\n\n\n\n\n\n\nEventBus\u63d2\u4ef6\u7684\u7b80\u5355\u5b9e\u73b0\n\n\n\u5982\u679c\u9879\u76ee\u4e2d\u4f7f\u7528\u5230\u4e86\nEventBus\n\uff0c\u90a3\u4e48\u4e00\u5b9a\u4f1a\u9047\u5230EventBus\u7684\u4e8b\u4ef6\u8ba2\u9605\u548c\u53d6\u6d88\u8ba2\u9605\u4e24\u4e2a\u6210\u5bf9\u51fa\u73b0\u7684\u65b9\u6cd5\u3002\u8fd9\u79cd\u4e8b\u4ef6\u5904\u7406\u903b\u8f91\u5e94\u8be5\u653e\u5728Controller\u4e2d\uff0c\u800c\u901a\u8fc7\u5199\u4e00\u4e2aEventBus\u63d2\u4ef6\u53ef\u4ee5\u65b9\u4fbf\u7684\u5b8c\u6210\u5bf9Controller\u7684register\uff1a\n\n\npublic\n \nclass\n \nEventBusPlugin\n \nimplements\n \nControllerLifecyclePlugin\n{\n\n\n    \nprivate\n \nEventBus\n \nmEventBus\n \n=\n \nEventBus\n.\ngetDefault\n();\n\n\n    \n@Override\n \npublic\n \nvoid\n \ncall\n(\nController\n \ncontroller\n,\n \nClass\n?\n \nextends\n \nLifecycleObserver\n \nlifecycleObserver\n,\n \nObject\n...\n \nparameters\n){\n\n\n        \nif\n(!\ncontroller\n \ninstanceof\n \nEventBusController\n){\n \n//\u5b9a\u4e49EventBusController\u63a5\u53e3\uff0c\u907f\u514d\u65e0\u5173\u7684register\n\n            \nreturn\n;\n\n        \n}\n\n\n        \n//\u5bf9\u5e94Activity\u7684onCreate\uff0c\u7531\u4e8ePan\u5de5\u5382\u5728onCreate\u4e2d\u4f7f\u7528\uff0c\u6240\u4ee5\u4f7f\u7528OnPostCreate\u66ff\u4ee3OnCreate\n\n        \nif\n(\nOnPostCreate\n.\nclass\n.\nequals\n(\nlifecycleObserver\n)){\n\n            \nmEventBus\n.\nregister\n(\ncontroller\n);\n\n            \nreturn\n;\n\n        \n}\n\n        \nelse\n \nif\n(\nOnDestroy\n.\nclass\n.\nequals\n(\nlifecycleObserver\n)){\n\n            \nmEventBus\n.\nunregister\n(\ncontroller\n);\n\n            \nreturn\n;\n\n        \n}\n\n\n    \n}\n\n\n}\n\n\n\n//\u5b9e\u73b0\u8be5\u63a5\u53e3\u7684Controller\u4f1a\u81ea\u52a8\u88abregister/unregister\n\n\npublic\n \ninterface\n \nEventBusController\n{\n\n\n\n}\n\n\n\n\n\n\n\u5f53\u7136\u4e0a\u9762\u53ea\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u5b9e\u73b0\uff0c\u5f53\u52a8\u6001\u6302\u8f7dFragment\u65f6\uff0cActivity\u7684OnPostCreate\u53ef\u80fd\u5df2\u7ecf\u53d1\u751f\u8fc7\u4e86\uff0c\u6240\u4ee5Fragment\u91ccViewModel\u7684Controller\u5c06\u65e0\u6cd5register\u3002\u5728\u4e0a\u9762\u7684\u65b9\u6cd5\u4f53\u4e2d\u589e\u52a0\u989d\u5916\u7684\u76d1\u542cFragment\u7684\u751f\u547d\u5468\u671f\u7684\u51fd\u6570\uff0c\u5e76\u5904\u7406\u4e00\u4e0b\u91cd\u590d\u76d1\u542c\u7684\u60c5\u51b5\u5c31\u53ef\u4ee5\u8f7b\u677e\u7684\u89e3\u51b3\u4e86~\n\n\n\u6846\u67b6\u81ea\u5e26\u7684AutoRender\u63d2\u4ef6\n\n\n\u8fd9\u4e2a\u63d2\u4ef6\u4e3b\u8981\u5b9e\u73b0\u4e86\u5728onResume\u7b49\u60c5\u51b5\u4e0b\uff0c\u81ea\u52a8\u52a0\u8f7d\u6570\u636e\u5e76\u6e32\u67d3\uff0c\u662f\u6846\u67b6\u81ea\u5e26\u7684\u63d2\u4ef6\uff0c\u7528\u6cd5\u53c2\u8003\n\u5e38\u7528\u7684ViewModel\u5b9e\u73b0\u7c7b#AutoRenderViewModel\n\u3002", 
            "title": "\u63d2\u4ef6\u7cfb\u7edf"
        }, 
        {
            "location": "/\u62d3\u5c55_\u63d2\u4ef6\u7cfb\u7edf/#_1", 
            "text": "Pan\u8bbe\u8ba1\u4e86\u4e00\u4e2a\u9488\u5bf9\u751f\u547d\u5468\u671f\u7684\u63d2\u4ef6\u7cfb\u7edf\uff0c\u4ee5\u4fbf\u4f7f\u7528\u8005\u642d\u914dController\u5f00\u53d1\u989d\u5916\u7684\u7279\u6027\u3002", 
            "title": "\u63d2\u4ef6\u7cfb\u7edf"
        }, 
        {
            "location": "/\u62d3\u5c55_\u63d2\u4ef6\u7cfb\u7edf/#_2", 
            "text": "Pan\u7684\u81ea\u5b9a\u4e49\u63d2\u4ef6\u901a\u8fc7\u5b9e\u73b0 ControllerLifecyclePlugin \u63a5\u53e3\u5b9e\u73b0:  public   interface   ControllerLifecyclePlugin { \n\n     void   call ( Controller   controller ,   Class ?   extends   LifecycleObserver   lifecycleObserver ,   Object ...   parameters );  }   \u63d2\u4ef6\u4f1a\u5728\u6240\u6709Activity/Fragment\u751f\u547d\u5468\u671f\u7684\u56de\u8c03\u4e2d\u8c03\u7528\u63d2\u4ef6\uff0ccall\u65b9\u6cd5\u4e00\u5171\u6709\u4e09\u4e2a\u53c2\u6570\uff1a   Controller\uff0c\u5373\u4e8b\u4ef6\u53d1\u751f\u65f6\uff0c\u8d77\u4f5c\u7528\u7684Controller\uff0c\u90fd\u4f1a\u8c03\u7528\u4e00\u6b21call  \u5f53\u524d\u7684\u4e8b\u4ef6\uff0c\u4f8b\u5982 OnResume.class  \u5982\u679c\u5f53\u524d\u7684\u751f\u547d\u5468\u671f\u65b9\u6cd5\u6709\u53c2\u6570\uff0c\u5219\u90fd\u653e\u5728parameters\u4e2d\uff0c\u4f8b\u5982onActivityResult\u7684\u6240\u6709\u53c2\u6570\u3002   \u5b9e\u73b0\u4e86\u63d2\u4ef6\u540e\uff0c\u53ef\u4ee5\u5728App\u7684onCreate\u65b9\u6cd5\u4e2d\u5b89\u88c5\u63d2\u4ef6\uff1a  Pan . installPlugin ( new   CustomPlugin ());", 
            "title": "\u81ea\u5b9a\u4e49\u63d2\u4ef6"
        }, 
        {
            "location": "/\u62d3\u5c55_\u63d2\u4ef6\u7cfb\u7edf/#eventbus", 
            "text": "\u5982\u679c\u9879\u76ee\u4e2d\u4f7f\u7528\u5230\u4e86 EventBus \uff0c\u90a3\u4e48\u4e00\u5b9a\u4f1a\u9047\u5230EventBus\u7684\u4e8b\u4ef6\u8ba2\u9605\u548c\u53d6\u6d88\u8ba2\u9605\u4e24\u4e2a\u6210\u5bf9\u51fa\u73b0\u7684\u65b9\u6cd5\u3002\u8fd9\u79cd\u4e8b\u4ef6\u5904\u7406\u903b\u8f91\u5e94\u8be5\u653e\u5728Controller\u4e2d\uff0c\u800c\u901a\u8fc7\u5199\u4e00\u4e2aEventBus\u63d2\u4ef6\u53ef\u4ee5\u65b9\u4fbf\u7684\u5b8c\u6210\u5bf9Controller\u7684register\uff1a  public   class   EventBusPlugin   implements   ControllerLifecyclePlugin { \n\n     private   EventBus   mEventBus   =   EventBus . getDefault (); \n\n     @Override   public   void   call ( Controller   controller ,   Class ?   extends   LifecycleObserver   lifecycleObserver ,   Object ...   parameters ){ \n\n         if (! controller   instanceof   EventBusController ){   //\u5b9a\u4e49EventBusController\u63a5\u53e3\uff0c\u907f\u514d\u65e0\u5173\u7684register \n             return ; \n         } \n\n         //\u5bf9\u5e94Activity\u7684onCreate\uff0c\u7531\u4e8ePan\u5de5\u5382\u5728onCreate\u4e2d\u4f7f\u7528\uff0c\u6240\u4ee5\u4f7f\u7528OnPostCreate\u66ff\u4ee3OnCreate \n         if ( OnPostCreate . class . equals ( lifecycleObserver )){ \n             mEventBus . register ( controller ); \n             return ; \n         } \n         else   if ( OnDestroy . class . equals ( lifecycleObserver )){ \n             mEventBus . unregister ( controller ); \n             return ; \n         } \n\n     }  }  //\u5b9e\u73b0\u8be5\u63a5\u53e3\u7684Controller\u4f1a\u81ea\u52a8\u88abregister/unregister  public   interface   EventBusController {  }   \u5f53\u7136\u4e0a\u9762\u53ea\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u5b9e\u73b0\uff0c\u5f53\u52a8\u6001\u6302\u8f7dFragment\u65f6\uff0cActivity\u7684OnPostCreate\u53ef\u80fd\u5df2\u7ecf\u53d1\u751f\u8fc7\u4e86\uff0c\u6240\u4ee5Fragment\u91ccViewModel\u7684Controller\u5c06\u65e0\u6cd5register\u3002\u5728\u4e0a\u9762\u7684\u65b9\u6cd5\u4f53\u4e2d\u589e\u52a0\u989d\u5916\u7684\u76d1\u542cFragment\u7684\u751f\u547d\u5468\u671f\u7684\u51fd\u6570\uff0c\u5e76\u5904\u7406\u4e00\u4e0b\u91cd\u590d\u76d1\u542c\u7684\u60c5\u51b5\u5c31\u53ef\u4ee5\u8f7b\u677e\u7684\u89e3\u51b3\u4e86~", 
            "title": "EventBus\u63d2\u4ef6\u7684\u7b80\u5355\u5b9e\u73b0"
        }, 
        {
            "location": "/\u62d3\u5c55_\u63d2\u4ef6\u7cfb\u7edf/#autorender", 
            "text": "\u8fd9\u4e2a\u63d2\u4ef6\u4e3b\u8981\u5b9e\u73b0\u4e86\u5728onResume\u7b49\u60c5\u51b5\u4e0b\uff0c\u81ea\u52a8\u52a0\u8f7d\u6570\u636e\u5e76\u6e32\u67d3\uff0c\u662f\u6846\u67b6\u81ea\u5e26\u7684\u63d2\u4ef6\uff0c\u7528\u6cd5\u53c2\u8003 \u5e38\u7528\u7684ViewModel\u5b9e\u73b0\u7c7b#AutoRenderViewModel \u3002", 
            "title": "\u6846\u67b6\u81ea\u5e26\u7684AutoRender\u63d2\u4ef6"
        }, 
        {
            "location": "/MVVM_MVP/", 
            "text": "MVP\nMVVM: \u8ba9Pan\u6309\u7167\u4f60\u559c\u6b22\u7684\u6a21\u578b\u5de5\u4f5c\n\n\nPan\u7684\u6a21\u578b\u662fMV*\uff0c\u610f\u5473\u7740\uff0c\u53ea\u8981\u8fbe\u5230\u4e86Pan\u7684\u521d\u5fc3\uff1a\u5206\u79bbActivity\u7684\u4ee3\u7801\uff0cPan\u53ef\u4ee5\u88ab\u7528\u6765\u4ee5\u4efb\u4f55\u4f60\u559c\u6b22\u7684\u6a21\u578b\u6765\u7f16\u5199\u4ee3\u7801\u3002\u4f8b\u5982\uff0c\u4f60\u53ef\u4ee5\u628aPan\u5f53\u505a\u4e00\u4e2aMVP\u6846\u67b6\u6765\u4f7f\u7528\uff0c\u4e5f\u53ef\u4ee5\u5f53\u505a\u4e00\u4e2aMVVM\u7684\u6846\u67b6\u6765\u4f7f\u7528\uff0c\u53ea\u9700\u8981\u5f88\u5c11\u3001\u751a\u81f3\u4e0d\u9700\u8981\u4ee3\u7801\u6539\u52a8\u3002\n\n\nPan\u5f53\u505aMVP\u6846\u67b6(\u590d\u523b\nMosby\n)\n\n\nViewModel\u672c\u8eab\u7406\u89e3\u4e3aMVP\u4e2d\u7684View\u3002ViewModel\u7684render\u65b9\u6cd5\u76f8\u5f53\u4e8e\u5168\u91cf\u5237\u65b0\u754c\u9762\uff0c\u800c\u66f4\u5c40\u90e8\u5237\u65b0\u53ef\u4ee5\u5728\u5b50\u7c7b\u63d0\u4f9b\u8bf8\u5982renderUser\u7b49\u65b9\u6cd5\u3002\u800cController\u5219\u53ef\u4ee5\u7c7b\u6bd4\u5230Presenter\u3002\u56e0\u6b64\uff0c\u7b26\u5408MVP\u6846\u67b6\u7684\u4ee3\u7801\u53ef\u4ee5\u76f4\u63a5\u8fc1\u79fb\u6210Pan\u6846\u67b6\u7684\u4ee3\u7801\uff0c\u4f60\u4f1a\u53d1\u73b0\u662f\u7b49\u4ef7\u7684\u3002\u4e0d\u4ec5\u5982\u6b64\uff0cPan\u6846\u67b6\u7531\u4e8e\u5f3a\u5236\u4ee3\u7801\u5206\u79bb\uff0c\u4f1a\u4f7f\u5f97\u539f\u5148\u4ecd\u7136\u6709\u5f88\u591a\u4ee3\u7801\u7684Activity\uff0c\u53d8\u7684\u53ea\u9700\u8981\u5be5\u5be5\u51e0\u884c\u3002\n\n\n\u4f8b\u5982\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u8fc1\u79fb\u6700\u8fd1\u6bd4\u8f83\u706b\u7684MVP\u6846\u67b6\nMosby\u7684Getting Started\n\uff0c\u4f60\u53ef\u4ee5\u7c7b\u4f3c\u7684\u5199\u51fa\u4e0b\u9762\u7684\u4ee3\u7801\uff1a\n\n\n\u9996\u5148\u662fView\u63a5\u53e3\uff0c\u5b9a\u4e49View\u7684\u6e32\u67d3\u884c\u4e3a\n\n\n// View interface\n\n\npublic\n \ninterface\n \nHelloWorldView\n \n{\n\n\n  \n// displays \nHello\n greeting text in red text color\n\n  \nvoid\n \nshowHello\n(\nString\n \ngreetingText\n);\n\n\n  \n// displays \nGoodbye\n greeting text in blue text color\n\n  \nvoid\n \nshowGoodbye\n(\nString\n \ngreetingText\n);\n\n\n}\n\n\n\n\n\n\n\u7136\u540e\u662fView\u63a5\u53e3\u7684\u5b9e\u73b0\u3002Mosby\u662f\u628a\u5b9e\u73b0\u4ea4\u7ed9\u4e86Activity\uff0c\u800c\u5728Pan\u4e2d\uff0c\u5bf9\u5e94\u7684\u6e32\u67d3\u903b\u8f91\u5b9e\u73b0\u5219\u662fViewModel\uff0c\u4ece\u800c\u4f7f\u5f97Activity\u6ca1\u6709\u66f4\u591a\u7684\u4ee3\u7801\u3002\n\u5f53\u7136Mosby\u4e5f\u662f\u652f\u6301\u4e0d\u4ea4\u7ed9Activity\u7684\uff0c\u7528\u522b\u7684\u5b9e\u73b0\u7c7b\uff1b\u800cPan\u5219\u662f\u5f3a\u5236\u5206\u79bb\u3002\n\n\npublic\n \nclass\n \nHelloWorldViewImpl\n \nextends\n \nGeneralViewModel\n \nimplements\n \nHelloWorldView\n{\n\n\n    \n@Bind\n(\nR\n.\nid\n.\ngreetingTextView\n)\n \nTextView\n \nvGreetingTextView\n;\n\n    \n@Bind\n(\nR\n.\nid\n.\nhelloButton\n)\n \nButton\n \nvHelloBtn\n;\n\n\n    \n@Override\n \nvoid\n \nshowHello\n(\nString\n \ngreetingText\n){\n\n        \ngreetingTextView\n.\nsetTextColor\n(\nColor\n.\nRED\n);\n\n        \ngreetingTextView\n.\nsetText\n(\ngreetingText\n);\n\n    \n}\n\n\n    \n@Override\n \npublic\n \nvoid\n \nshowGoodbye\n(\nString\n \ngreetingText\n){\n\n        \ngreetingTextView\n.\nsetTextColor\n(\nColor\n.\nBLUE\n);\n\n        \ngreetingTextView\n.\nsetText\n(\ngreetingText\n);\n\n    \n}\n   \n\n    \n@Override\n \npublic\n \nvoid\n \nrender\n(){\n\n        \n//It is more clear that put \ngreetingText\n and \nisHelloOrGoodbye\n as a member of ViewModel in Pan\ns philosophy,\n\n        \n//and render method will use current state to choose show which color.\n\n\n        \n//But anyway, this is the example for Mosby.\n\n    \n}\n\n\n}\n\n\n\n\n\n\n\u63a5\u4e0b\u6765\u662fPresenter\uff0c\u5b9e\u9645\u4e0aMosby\u7684Presenter\u5904\u7406\u7684\u662f\u5c06\u5f02\u6b65\u8bf7\u6c42\u7684\u7ed3\u679c\u7ed1\u5b9a\u5230View\u7684\u6e32\u67d3\u65b9\u6cd5\u4e0a\u7684\u4f5c\u7528\uff0c\u800c\u8fd9\u4e2a\u4f5c\u7528\u5728Pan\u4e2d\u7531Controller\u5b9e\u73b0\u3002\u8fd9\u91cc\u53ef\u4ee5\u76f4\u63a5\u5c06Mosby\u7684Presenter\u7684\u4ee3\u7801\u62f7\u8d1d\u8fc7\u6765\u3002\nMosby\u7684\u70b9\u51fb\u4e8b\u4ef6\u7ed1\u5b9a\u4e5f\u4ea4\u7ed9\u4e86Activity\uff0c\u5982\u679c\u8fc1\u79fb\u5230Pan\uff0c\u5c31\u9700\u8981\u653e\u5230Controller\u7684bindEvents\u65b9\u6cd5\u4e2d\u6765\u3002\u4f60\u53ef\u4ee5\u5728bindEvents\u4e2d\u4f7f\u7528Butterknife\uff0c\u8fd9\u6837\u5c31\u66f4\u50cfMosby\u7684\u505a\u6cd5\u3002\n\n\npublic\n \nclass\n \nHellowWorldPresenter\n \nextends\n \nGeneralController\nHelloWorldViewImpl\n{\n\n\n    \n// Greeting Task is \nbusiness logic\n\n    \nprivate\n \nGreetingGeneratorTask\n \ngreetingTask\n;\n\n\n    \nprivate\n \nvoid\n \ncancelGreetingTaskIfRunning\n(){\n\n        \nif\n \n(\ngreetingTask\n \n!=\n \nnull\n){\n\n            \ngreetingTask\n.\ncancel\n(\ntrue\n);\n\n        \n}\n\n    \n}\n\n\n    \npublic\n \nvoid\n \ngreetHello\n(){\n\n        \ncancelGreetingTaskIfRunning\n();\n\n\n        \ngreetingTask\n \n=\n \nnew\n \nGreetingGeneratorTask\n(\nHello\n,\n \nnew\n \nGreetingTaskListener\n(){\n\n            \npublic\n \nvoid\n \nonGreetingGenerated\n(\nString\n \ngreetingText\n){\n\n                \nif\n \n(\nisViewAttached\n())\n\n                \ngetView\n().\nshowHello\n(\ngreetingText\n);\n\n            \n}\n\n        \n});\n\n        \ngreetingTask\n.\nexecute\n();\n \n    \n}\n\n\n    \n@Override\n \npublic\n \nvoid\n \nbindEvents\n(){\n\n        \n$vm\n.\nvHelloBtn\n.\nsetOnClickListener\n(\nv\n \n-\n \n{\n\n            \ngreetHello\n();\n\n        \n});\n\n    \n}\n\n\n    \n//...more logic can be same way ported.\n\n\n}\n\n\n\n\n\n\n\u6700\u540e\uff0c\u5728Activity\u4e2d\u8c03\u7528\u5de5\u5382\u65b9\u6cd5\u3002 \n\n\nPan\n.\nwith\n(\nthis\n,\n \nHelloWorldViewImpl\n.\nclass\n)\n\n    \n.\ncontrolledBy\n(\nHelloWorldPresenter\n.\nclass\n)\n\n    \n.\ngetViewModel\n();\n\n\n\n\n\n\nPan\u5f53\u505aMVVM\n\n\n\u5f53\u7136\uff0c\u4f60\u4e5f\u53ef\u4ee5\u5b8c\u5168\u53ef\u4ee5\u628aPan\u6539\u9020\u6210\u4e00\u4e2aMVVM\u6846\u67b6\uff0c\u53ea\u9700\u5f88\u5c11\u7684\u4ee3\u7801\u3002\u5982\u679c\u4f60\u9605\u8bfb\u8fc7\nAutoRenderViewModel\u7684\u4ecb\u7ecd\n\uff0c\u4f1a\u53d1\u73b0\u8fd9\u4e2a\u7c7b\u7684\u7528\u6cd5\u5df2\u7ecf\u5728\u5411MVVM\u4e0a\u9760\u62e2\u4e86\u3002\n\n\nMVVM\u7684\u6838\u5fc3\u5728\u4e8eVM-V\u53cc\u5411\u7ed1\u5b9a\u3002\u6240\u4ee5\u6211\u4eec\u5148\u641e\u5b9aVM-\nV\uff0c\u610f\u5473\u7740\u6211\u4eec\u8981\u9650\u5b9aViewModel\u4e2d\u4f7f\u7528\u7684\u6570\u636e\u5bf9\u8c61\uff1a\n\n\npublic\n \ninterface\n \nViewModelData\n{\n\n    \nvoid\n \nnotifyRender\n();\n\n    \nvoid\n \naddViewModel\n(\nViewModel\n \nviewModel\n)\n\n\n}\n\n\n\npublic\n \nabstract\n \nclass\n \nViewModelDataBase\n \nimplements\n \nViewModelData\n{\n\n    \nSet\nViewModel\n \nmViewModels\n \n=\n \nCollections\n.\nnewSetFromMap\n(\nnew\n \nWeakHashMap\nViewModel\n,\n \nBoolean\n());\n\n\n    \npublic\n \nvoid\n \nnotifyRender\n(){\n\n        \nfor\n(\nViewModel\n \nvm\n:\n \nmViewModels\n){\n\n            \nif\n(\nvm\n \n!=\n \nnull\n)\n \nvm\n.\nrender\n();\n\n        \n}\n\n    \n}\n\n\n    \npublic\n \nvoid\n \naddViewModel\n(\nViewModel\n \nviewModel\n){\n\n        \nmViewModels\n.\nadd\n(\nnew\n \nWeakReference\n(\nviewModel\n));\n\n    \n}\n\n\n}\n\n\n\n\n\n\n\u4e0a\u9762\u7684\u4ee3\u7801\u63d0\u4f9b\u4e86\u4e00\u4e2a\u6570\u636e\u7c7b\u578b\u7684\u57fa\u7c7b\uff0c\u4ed6\u5728\u5408\u9002\u7684\u65f6\u673a\u901a\u77e5ViewModel\u53bb\u5237\u65b0\u754c\u9762\uff0c\u4e00\u4e2a\u53ef\u80fd\u7684\u5b9e\u73b0\u7c7b\u5982\u4e0b\uff1a\n\n\npublic\n \nclass\n \nWeiboData\n \nextends\n \nViewModelDataBase\n{\n\n    \nString\n \nweiboText\n;\n\n\n    \npublic\n \nvoid\n \nsetWeiboText\n(\nString\n \nweiboText\n){\n\n        \nthis\n.\nweiboText\n \n=\n \nweiboText\n;\n\n        \nnotifyRender\n();\n\n    \n}\n\n    \n//...\n\n\n}\n\n\n\n\n\n\n\u63a5\u4e0b\u6765\u7f16\u5199\u4e00\u4e2aViewModel\u7684\u57fa\u7c7b\uff0cViewModel\u9700\u8981\u81f3\u5c11\u63d0\u4f9b\u5355\u5411\u7684\u81ea\u52a8\u5237\u65b0\uff0c\u6240\u4ee5\u4f1a\u6709\u5982\u4e0b\u4ee3\u7801\uff1a\n\n\npublic\n \nabstract\n \nclass\n \nTwoWayBindingViewModel\nD\n \nextends\n \nViewModelDataBase\n \nextends\n \nGeneralViewModel\n{\n\n\n    \nprotected\n \nD\n \nmData\n;\n\n\n    \npublic\n \nTwoWayBindingViewModel\n \nsetData\n(\nD\n \ndata\n){\n\n        \nmData\n \n=\n \ndata\n;\n\n        \nif\n(\nmData\n \n!=\n \nnull\n){\n\n            \nmData\n.\naddViewModel\n(\nthis\n);\n\n        \n}\n\n        \nreturn\n \nthis\n;\n\n    \n}\n\n\n    \npublic\n \nTwoWayBindingViewModel\n \nsetDataAndRender\n(\nD\n \ndata\n){\n\n        \nsetData\n(\ndata\n);\n\n        \nrender\n();\n\n        \nreturn\n \nthis\n;\n\n    \n}\n\n\n\n}\n\n\n\n\n\n\n\u5728\u5177\u4f53\u7684\u573a\u666f\u4e2d\uff0c\u76f4\u63a5\u4f7f\u7528TwoWayBindingViewModel\u4f5c\u4e3a\u57fa\u7c7b\uff0c\u5e76\u4f20\u5165ViewModelDataBase\u7684\u5b50\u7c7b\u4f5c\u4e3a\u6570\u636e\uff0c\u5c31\u53ef\u4ee5\u5b9e\u73b0VM-\nV\u81ea\u52a8\u5237\u65b0\u529f\u80fd\u3002\n\n\n\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u901a\u8fc7Controller\u6765\u5b9e\u73b0V-\nVM\u7684\u7ed1\u5b9a\u3002\u9996\u5148\u9700\u8981\u4e00\u4e2a\u6ce8\u89e3\u6807\u8bb0\u7ed1\u5b9a\u7684field\u3002\n\n\n@Retention\n(\nRetentionPolicy\n.\nRUNTIME\n)\n\n\n@Target\n(\nElementType\n.\nFIELD\n)\n\n\npublic\n \n@interface\n \nBinding\n{\n\n\n\n}\n\n\n\npublic\n \nclass\n \nWeiboViewModel\n \nextends\n \nTwoWayBindingViewModel\nWeibo\n{\n\n\n    \n@Binding\n(\nweiboText\n)\n\n    \nprotected\n \nEditText\n \nvEditText\n;\n\n\n\n}\n\n\n\n\n\n\n\u63a5\u4e0b\u6765\uff0c\u662fController\u7684\u5177\u4f53\u5b9e\u73b0\uff0c\u4e3a\u4e86\u907f\u514d\u53cd\u5c04\u4ee3\u7801\u5f71\u54cd\u9605\u8bfb\u6027\uff0c\u8fd9\u91cc\u7528\u4f2a\u4ee3\u7801\u7f16\u5199\uff1a\n\n\npublic abstract class TwoWayBindingController\nT extends TwoWayBindingViewModel\n extends GeneralController\nT\n{\n\n\n\n    protected void bindEvents()\n{\n\n\n        super.bindEvents();\n\n\n\n        for each field in \n$\nvm\n.\ngetClass\n()\n \n{\n\n\n            if(f.getName().startsWith(\nv\n))\n{\n\n\n                bindField(f);\n\n\n            }\n\n\n        }\n\n\n    }\n\n\n\n    protected void bindField(Field f)\n{\n\n\n\n        final Method setter = find the setter binded, e.g. setWeiboText;\n\n\n\n        switch f.getType():\n\n\n            case EditText.class:\n\n\n                 f.get(\n$\nvm\n).addTextChangeListener(new TextWatcher()\n{\n\n\n                        public void afterTextChanged(Editable s)\n{\n\n\n\n                            setter.invoke(mData, s.toString());\n\n\n                        }\n\n\n                    })\n\n\n                 break;\n\n\n            case ... //other controls\n\n\n    }\n\n\n\n}\n\n\n\n\n\n\n\u8fd9\u91cc\u7528\u7684\u662f\u53cd\u5c04\uff0c\u8003\u8651\u5230\u4e00\u4e2a\u754c\u9762\u4e0a\u4e00\u822c\u53ea\u9700\u8981\u7ed1\u5b9a\u4e00\u6b21\uff0c\u4ee5\u53ca\u9700\u8981\u7ed1\u5b9a\u7684\u63a7\u4ef6\u5176\u5b9e\u6709\u9650\uff0c\u8fd9\u6837\u505a\u4e0d\u4f1a\u5bf9\u6027\u80fd\u6709\u592a\u5927\u7684\u5f71\u54cd\u3002\u5f53\u7136\uff0c\u7528Annotation Processing\u53ef\u4ee5\u5b9e\u73b0\u76f8\u540c\u7684\u6548\u679c\uff0c\u53ea\u662f\u7f16\u5199/\u6d4b\u8bd5\u8d77\u6765\u76f8\u5bf9\u9ebb\u70e6\u3002\n\n\nPan\u878d\u5408Android\u5b98\u65b9\u7684Data-Binding\n\n\n\u5982\u679c\u4f60\u5bf9\u4e0a\u9762\u81ea\u5df1\u5b9e\u73b0MVVM\u7684\u65b9\u6848\u4e0d\u6ee1\u610f\uff0c\u5b98\u65b9\u7684Data-Binding\u662f\u907f\u514d\u4e86\u53cd\u5c04\uff0c\u800c\u4e14\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u3002Pan\u4e5f\u540c\u6837\u652f\u6301\uff0c\u63a5\u5165\u540e\u8ba9\u4f7f\u7528DataBinding\u7684\u4e5f\u66f4\u52a0\u8212\u9002\uff0c\u867d\u7136\u8fd9\u6837\u505a\u5e76\u4e0d\u88ab\u63a8\u8350\u3002\u53ef\u4ee5\u76f4\u63a5\u53c2\u8003\n\u96c6\u6210Data-binding\n\u3002", 
            "title": "MVVM\u548cMVP"
        }, 
        {
            "location": "/MVVM_MVP/#mvpmvvm-pan", 
            "text": "Pan\u7684\u6a21\u578b\u662fMV*\uff0c\u610f\u5473\u7740\uff0c\u53ea\u8981\u8fbe\u5230\u4e86Pan\u7684\u521d\u5fc3\uff1a\u5206\u79bbActivity\u7684\u4ee3\u7801\uff0cPan\u53ef\u4ee5\u88ab\u7528\u6765\u4ee5\u4efb\u4f55\u4f60\u559c\u6b22\u7684\u6a21\u578b\u6765\u7f16\u5199\u4ee3\u7801\u3002\u4f8b\u5982\uff0c\u4f60\u53ef\u4ee5\u628aPan\u5f53\u505a\u4e00\u4e2aMVP\u6846\u67b6\u6765\u4f7f\u7528\uff0c\u4e5f\u53ef\u4ee5\u5f53\u505a\u4e00\u4e2aMVVM\u7684\u6846\u67b6\u6765\u4f7f\u7528\uff0c\u53ea\u9700\u8981\u5f88\u5c11\u3001\u751a\u81f3\u4e0d\u9700\u8981\u4ee3\u7801\u6539\u52a8\u3002", 
            "title": "MVP&amp;MVVM: \u8ba9Pan\u6309\u7167\u4f60\u559c\u6b22\u7684\u6a21\u578b\u5de5\u4f5c"
        }, 
        {
            "location": "/MVVM_MVP/#panmvpmosby", 
            "text": "ViewModel\u672c\u8eab\u7406\u89e3\u4e3aMVP\u4e2d\u7684View\u3002ViewModel\u7684render\u65b9\u6cd5\u76f8\u5f53\u4e8e\u5168\u91cf\u5237\u65b0\u754c\u9762\uff0c\u800c\u66f4\u5c40\u90e8\u5237\u65b0\u53ef\u4ee5\u5728\u5b50\u7c7b\u63d0\u4f9b\u8bf8\u5982renderUser\u7b49\u65b9\u6cd5\u3002\u800cController\u5219\u53ef\u4ee5\u7c7b\u6bd4\u5230Presenter\u3002\u56e0\u6b64\uff0c\u7b26\u5408MVP\u6846\u67b6\u7684\u4ee3\u7801\u53ef\u4ee5\u76f4\u63a5\u8fc1\u79fb\u6210Pan\u6846\u67b6\u7684\u4ee3\u7801\uff0c\u4f60\u4f1a\u53d1\u73b0\u662f\u7b49\u4ef7\u7684\u3002\u4e0d\u4ec5\u5982\u6b64\uff0cPan\u6846\u67b6\u7531\u4e8e\u5f3a\u5236\u4ee3\u7801\u5206\u79bb\uff0c\u4f1a\u4f7f\u5f97\u539f\u5148\u4ecd\u7136\u6709\u5f88\u591a\u4ee3\u7801\u7684Activity\uff0c\u53d8\u7684\u53ea\u9700\u8981\u5be5\u5be5\u51e0\u884c\u3002  \u4f8b\u5982\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u8fc1\u79fb\u6700\u8fd1\u6bd4\u8f83\u706b\u7684MVP\u6846\u67b6 Mosby\u7684Getting Started \uff0c\u4f60\u53ef\u4ee5\u7c7b\u4f3c\u7684\u5199\u51fa\u4e0b\u9762\u7684\u4ee3\u7801\uff1a  \u9996\u5148\u662fView\u63a5\u53e3\uff0c\u5b9a\u4e49View\u7684\u6e32\u67d3\u884c\u4e3a  // View interface  public   interface   HelloWorldView   { \n\n   // displays  Hello  greeting text in red text color \n   void   showHello ( String   greetingText ); \n\n   // displays  Goodbye  greeting text in blue text color \n   void   showGoodbye ( String   greetingText );  }   \u7136\u540e\u662fView\u63a5\u53e3\u7684\u5b9e\u73b0\u3002Mosby\u662f\u628a\u5b9e\u73b0\u4ea4\u7ed9\u4e86Activity\uff0c\u800c\u5728Pan\u4e2d\uff0c\u5bf9\u5e94\u7684\u6e32\u67d3\u903b\u8f91\u5b9e\u73b0\u5219\u662fViewModel\uff0c\u4ece\u800c\u4f7f\u5f97Activity\u6ca1\u6709\u66f4\u591a\u7684\u4ee3\u7801\u3002\n\u5f53\u7136Mosby\u4e5f\u662f\u652f\u6301\u4e0d\u4ea4\u7ed9Activity\u7684\uff0c\u7528\u522b\u7684\u5b9e\u73b0\u7c7b\uff1b\u800cPan\u5219\u662f\u5f3a\u5236\u5206\u79bb\u3002  public   class   HelloWorldViewImpl   extends   GeneralViewModel   implements   HelloWorldView { \n\n     @Bind ( R . id . greetingTextView )   TextView   vGreetingTextView ; \n     @Bind ( R . id . helloButton )   Button   vHelloBtn ; \n\n     @Override   void   showHello ( String   greetingText ){ \n         greetingTextView . setTextColor ( Color . RED ); \n         greetingTextView . setText ( greetingText ); \n     } \n\n     @Override   public   void   showGoodbye ( String   greetingText ){ \n         greetingTextView . setTextColor ( Color . BLUE ); \n         greetingTextView . setText ( greetingText ); \n     }    \n\n     @Override   public   void   render (){ \n         //It is more clear that put  greetingText  and  isHelloOrGoodbye  as a member of ViewModel in Pan s philosophy, \n         //and render method will use current state to choose show which color. \n\n         //But anyway, this is the example for Mosby. \n     }  }   \u63a5\u4e0b\u6765\u662fPresenter\uff0c\u5b9e\u9645\u4e0aMosby\u7684Presenter\u5904\u7406\u7684\u662f\u5c06\u5f02\u6b65\u8bf7\u6c42\u7684\u7ed3\u679c\u7ed1\u5b9a\u5230View\u7684\u6e32\u67d3\u65b9\u6cd5\u4e0a\u7684\u4f5c\u7528\uff0c\u800c\u8fd9\u4e2a\u4f5c\u7528\u5728Pan\u4e2d\u7531Controller\u5b9e\u73b0\u3002\u8fd9\u91cc\u53ef\u4ee5\u76f4\u63a5\u5c06Mosby\u7684Presenter\u7684\u4ee3\u7801\u62f7\u8d1d\u8fc7\u6765\u3002\nMosby\u7684\u70b9\u51fb\u4e8b\u4ef6\u7ed1\u5b9a\u4e5f\u4ea4\u7ed9\u4e86Activity\uff0c\u5982\u679c\u8fc1\u79fb\u5230Pan\uff0c\u5c31\u9700\u8981\u653e\u5230Controller\u7684bindEvents\u65b9\u6cd5\u4e2d\u6765\u3002\u4f60\u53ef\u4ee5\u5728bindEvents\u4e2d\u4f7f\u7528Butterknife\uff0c\u8fd9\u6837\u5c31\u66f4\u50cfMosby\u7684\u505a\u6cd5\u3002  public   class   HellowWorldPresenter   extends   GeneralController HelloWorldViewImpl { \n\n     // Greeting Task is  business logic \n     private   GreetingGeneratorTask   greetingTask ; \n\n     private   void   cancelGreetingTaskIfRunning (){ \n         if   ( greetingTask   !=   null ){ \n             greetingTask . cancel ( true ); \n         } \n     } \n\n     public   void   greetHello (){ \n         cancelGreetingTaskIfRunning (); \n\n         greetingTask   =   new   GreetingGeneratorTask ( Hello ,   new   GreetingTaskListener (){ \n             public   void   onGreetingGenerated ( String   greetingText ){ \n                 if   ( isViewAttached ()) \n                 getView (). showHello ( greetingText ); \n             } \n         }); \n         greetingTask . execute ();  \n     } \n\n     @Override   public   void   bindEvents (){ \n         $vm . vHelloBtn . setOnClickListener ( v   -   { \n             greetHello (); \n         }); \n     } \n\n     //...more logic can be same way ported.  }   \u6700\u540e\uff0c\u5728Activity\u4e2d\u8c03\u7528\u5de5\u5382\u65b9\u6cd5\u3002   Pan . with ( this ,   HelloWorldViewImpl . class ) \n     . controlledBy ( HelloWorldPresenter . class ) \n     . getViewModel ();", 
            "title": "Pan\u5f53\u505aMVP\u6846\u67b6(\u590d\u523bMosby)"
        }, 
        {
            "location": "/MVVM_MVP/#panmvvm", 
            "text": "\u5f53\u7136\uff0c\u4f60\u4e5f\u53ef\u4ee5\u5b8c\u5168\u53ef\u4ee5\u628aPan\u6539\u9020\u6210\u4e00\u4e2aMVVM\u6846\u67b6\uff0c\u53ea\u9700\u5f88\u5c11\u7684\u4ee3\u7801\u3002\u5982\u679c\u4f60\u9605\u8bfb\u8fc7 AutoRenderViewModel\u7684\u4ecb\u7ecd \uff0c\u4f1a\u53d1\u73b0\u8fd9\u4e2a\u7c7b\u7684\u7528\u6cd5\u5df2\u7ecf\u5728\u5411MVVM\u4e0a\u9760\u62e2\u4e86\u3002  MVVM\u7684\u6838\u5fc3\u5728\u4e8eVM-V\u53cc\u5411\u7ed1\u5b9a\u3002\u6240\u4ee5\u6211\u4eec\u5148\u641e\u5b9aVM- V\uff0c\u610f\u5473\u7740\u6211\u4eec\u8981\u9650\u5b9aViewModel\u4e2d\u4f7f\u7528\u7684\u6570\u636e\u5bf9\u8c61\uff1a  public   interface   ViewModelData { \n     void   notifyRender (); \n     void   addViewModel ( ViewModel   viewModel )  }  public   abstract   class   ViewModelDataBase   implements   ViewModelData { \n     Set ViewModel   mViewModels   =   Collections . newSetFromMap ( new   WeakHashMap ViewModel ,   Boolean ()); \n\n     public   void   notifyRender (){ \n         for ( ViewModel   vm :   mViewModels ){ \n             if ( vm   !=   null )   vm . render (); \n         } \n     } \n\n     public   void   addViewModel ( ViewModel   viewModel ){ \n         mViewModels . add ( new   WeakReference ( viewModel )); \n     }  }   \u4e0a\u9762\u7684\u4ee3\u7801\u63d0\u4f9b\u4e86\u4e00\u4e2a\u6570\u636e\u7c7b\u578b\u7684\u57fa\u7c7b\uff0c\u4ed6\u5728\u5408\u9002\u7684\u65f6\u673a\u901a\u77e5ViewModel\u53bb\u5237\u65b0\u754c\u9762\uff0c\u4e00\u4e2a\u53ef\u80fd\u7684\u5b9e\u73b0\u7c7b\u5982\u4e0b\uff1a  public   class   WeiboData   extends   ViewModelDataBase { \n     String   weiboText ; \n\n     public   void   setWeiboText ( String   weiboText ){ \n         this . weiboText   =   weiboText ; \n         notifyRender (); \n     } \n     //...  }   \u63a5\u4e0b\u6765\u7f16\u5199\u4e00\u4e2aViewModel\u7684\u57fa\u7c7b\uff0cViewModel\u9700\u8981\u81f3\u5c11\u63d0\u4f9b\u5355\u5411\u7684\u81ea\u52a8\u5237\u65b0\uff0c\u6240\u4ee5\u4f1a\u6709\u5982\u4e0b\u4ee3\u7801\uff1a  public   abstract   class   TwoWayBindingViewModel D   extends   ViewModelDataBase   extends   GeneralViewModel { \n\n     protected   D   mData ; \n\n     public   TwoWayBindingViewModel   setData ( D   data ){ \n         mData   =   data ; \n         if ( mData   !=   null ){ \n             mData . addViewModel ( this ); \n         } \n         return   this ; \n     } \n\n     public   TwoWayBindingViewModel   setDataAndRender ( D   data ){ \n         setData ( data ); \n         render (); \n         return   this ; \n     }  }   \u5728\u5177\u4f53\u7684\u573a\u666f\u4e2d\uff0c\u76f4\u63a5\u4f7f\u7528TwoWayBindingViewModel\u4f5c\u4e3a\u57fa\u7c7b\uff0c\u5e76\u4f20\u5165ViewModelDataBase\u7684\u5b50\u7c7b\u4f5c\u4e3a\u6570\u636e\uff0c\u5c31\u53ef\u4ee5\u5b9e\u73b0VM- V\u81ea\u52a8\u5237\u65b0\u529f\u80fd\u3002  \u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u901a\u8fc7Controller\u6765\u5b9e\u73b0V- VM\u7684\u7ed1\u5b9a\u3002\u9996\u5148\u9700\u8981\u4e00\u4e2a\u6ce8\u89e3\u6807\u8bb0\u7ed1\u5b9a\u7684field\u3002  @Retention ( RetentionPolicy . RUNTIME )  @Target ( ElementType . FIELD )  public   @interface   Binding {  }  public   class   WeiboViewModel   extends   TwoWayBindingViewModel Weibo { \n\n     @Binding ( weiboText ) \n     protected   EditText   vEditText ;  }   \u63a5\u4e0b\u6765\uff0c\u662fController\u7684\u5177\u4f53\u5b9e\u73b0\uff0c\u4e3a\u4e86\u907f\u514d\u53cd\u5c04\u4ee3\u7801\u5f71\u54cd\u9605\u8bfb\u6027\uff0c\u8fd9\u91cc\u7528\u4f2a\u4ee3\u7801\u7f16\u5199\uff1a  public abstract class TwoWayBindingController T extends TwoWayBindingViewModel  extends GeneralController T {      protected void bindEvents() {          super.bindEvents();          for each field in  $ vm . getClass ()   {              if(f.getName().startsWith( v )) {                  bindField(f);              }          }      }      protected void bindField(Field f) {          final Method setter = find the setter binded, e.g. setWeiboText;          switch f.getType():              case EditText.class:                   f.get( $ vm ).addTextChangeListener(new TextWatcher() {                          public void afterTextChanged(Editable s) {                              setter.invoke(mData, s.toString());                          }                      })                   break;              case ... //other controls      }  }   \u8fd9\u91cc\u7528\u7684\u662f\u53cd\u5c04\uff0c\u8003\u8651\u5230\u4e00\u4e2a\u754c\u9762\u4e0a\u4e00\u822c\u53ea\u9700\u8981\u7ed1\u5b9a\u4e00\u6b21\uff0c\u4ee5\u53ca\u9700\u8981\u7ed1\u5b9a\u7684\u63a7\u4ef6\u5176\u5b9e\u6709\u9650\uff0c\u8fd9\u6837\u505a\u4e0d\u4f1a\u5bf9\u6027\u80fd\u6709\u592a\u5927\u7684\u5f71\u54cd\u3002\u5f53\u7136\uff0c\u7528Annotation Processing\u53ef\u4ee5\u5b9e\u73b0\u76f8\u540c\u7684\u6548\u679c\uff0c\u53ea\u662f\u7f16\u5199/\u6d4b\u8bd5\u8d77\u6765\u76f8\u5bf9\u9ebb\u70e6\u3002", 
            "title": "Pan\u5f53\u505aMVVM"
        }, 
        {
            "location": "/MVVM_MVP/#panandroiddata-binding", 
            "text": "\u5982\u679c\u4f60\u5bf9\u4e0a\u9762\u81ea\u5df1\u5b9e\u73b0MVVM\u7684\u65b9\u6848\u4e0d\u6ee1\u610f\uff0c\u5b98\u65b9\u7684Data-Binding\u662f\u907f\u514d\u4e86\u53cd\u5c04\uff0c\u800c\u4e14\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u3002Pan\u4e5f\u540c\u6837\u652f\u6301\uff0c\u63a5\u5165\u540e\u8ba9\u4f7f\u7528DataBinding\u7684\u4e5f\u66f4\u52a0\u8212\u9002\uff0c\u867d\u7136\u8fd9\u6837\u505a\u5e76\u4e0d\u88ab\u63a8\u8350\u3002\u53ef\u4ee5\u76f4\u63a5\u53c2\u8003 \u96c6\u6210Data-binding \u3002", 
            "title": "Pan\u878d\u5408Android\u5b98\u65b9\u7684Data-Binding"
        }, 
        {
            "location": "/\u96c6\u6210Data-Binding/", 
            "text": "\u96c6\u6210\u5b98\u65b9\u7684Data-Binding\n\n\n\u5b98\u65b9\u7684Data-Binding\u662f\u4e00\u4e2a\u907f\u514d\u4e86\u53cd\u5c04\u7684MVVM\u7684\u5b9e\u73b0\u3002\u4e0d\u8fc7\u8bf4\u5b9e\u8bdd\uff0c\u4e2a\u4eba\u89c9\u5f97\u6bd4\u8f83\u9e21\u808b\u3002\u6e32\u67d3\u903b\u8f91\u5728\u5b9e\u9645\u7f16\u5199\u4e2d\uff0c\u6709\u5927\u91cf\u7684\u56fe\u7247\u52a0\u8f7d\u903b\u8f91\u3001\u81ea\u5b9a\u4e49View\u903b\u8f91\u7b49\u7b49\uff0c\u4ecd\u7136\u65e0\u6cd5\u5b8c\u5168\u7528Xml\u7684\u8868\u8fbe\u5f0f\u6765\u66ff\u4ee3\uff0c\u800c\u5fc5\u987b\u4f7f\u7528\u5404\u7c7bAttribute Setters, Converters\u3002\u8fd9\u610f\u5473\u7740\u6e32\u67d3\u903b\u8f91\u4f1a\u5b58\u5728\u4e8e\n\u4e24\u4e2a\u4ee5\u4e0a\u4f4d\u7f6e\n\uff0c\u8fd9\u5c06\u4f1a\u5bf9\u4ee3\u7801\u7684\u53ef\u7ef4\u62a4\u6027\u9020\u6210\u6781\u5927\u7684\u7834\u574f\uff0c\u56e0\u4e3a\u4e0d\u540c\u7684\u7a0b\u5e8f\u5458\u5bf9\u4e00\u4e2a\u6e32\u67d3\u6b65\u9aa4\u662f\u653e\u5728Java\u8fd8\u662f\u653e\u5728Xml\u4e2d\u7528\u8868\u8fbe\u5f0f\u6709\u7740\u4e0d\u540c\u7684\u7406\u89e3\u3002\u5bf9\u4e8e\u6bd4Reactjs\u8fd9\u79cdjs\u6846\u67b6\uff0c\u5176\u6e32\u67d3\u903b\u8f91\u548c\u6837\u5f0fHtml\u662f\u653e\u5728\u4e00\u5904\u7684\uff0c\u907f\u514d\u4e86\u8fd9\u4e2a\u95ee\u9898\u3002\u4e0e\u6b64\u540c\u65f6\uff0cData-Binding\u4e5f\u4e0d\u80fd\u89e3\u51b3Activity\u7684\u4ee3\u7801\u91cf\u8fc7\u5927\u7684\u95ee\u9898\uff0c\u53ea\u51cf\u5c11\u4e86\u90e8\u5206\u4ee3\u7801\uff0c\u540c\u65f6\u8ba9\u4e00\u5207\u53d8\u7684\u66f4\u6df7\u4e71\u4e86\u3002\n\n\nAnyway\uff0c\u5982\u679c\u4f60\u786e\u5b9a\u60f3\u4f7f\u7528Data-Binding\uff0cPan\u4e5f\u4ecd\u7136\u652f\u6301\uff0c\u7a0d\u52a0\u6539\u9020\u5373\u53ef\u3002\u5b8c\u6574\u7684\u53ef\u8fd0\u884cSample\u53ef\u4ee5\u53c2\u8003\n\u6e90\u7801\u4e2d\u7684sample-databinding\u6a21\u5757\n\u3002\n\n\n\u9996\u5148\uff0c\u6211\u4eec\u6dfb\u52a0\u4e00\u4e2aDataBindingViewModel\uff0c\u652f\u6301\u8bbe\u7f6eData\u548c\u5176Binding\uff1a\n\n\npublic\n \nabstract\n \nclass\n \nDataBindingViewModel\nD\n \nextends\n \nBaseObservable\n,\n \nB\n \nextends\n \nViewDataBinding\n \nextends\n \nGeneralViewModel\n \n{\n\n\n    \nprotected\n \nD\n \nmData\n;\n\n    \nprotected\n \nB\n \nmViewDataBinding\n;\n\n\n    \npublic\n \nDataBindingViewModel\nD\n,\n \nB\n \nsetData\n(\nD\n \ndata\n){\n\n        \nmData\n \n=\n \ndata\n;\n\n        \nbindData\n(\ndata\n);\n\n        \nreturn\n \nthis\n;\n\n    \n}\n\n\n    \npublic\n \nD\n \ngetData\n(){\n\n        \nreturn\n \nmData\n;\n\n    \n}\n\n\n    \nprotected\n \nabstract\n \nvoid\n \nbindData\n(\nD\n \ndata\n);\n\n\n    \n@Override\n\n    \nprotected\n \nvoid\n \nonInit\n()\n \n{\n\n        \nsuper\n.\nonInit\n();\n\n        \nmViewDataBinding\n \n=\n \nDataBindingUtil\n.\nbind\n(\ngetRootView\n());\n\n    \n}\n\n\n\n}\n\n\n\n\n\n\n\u5728onInit\u7684\u65f6\u5019\uff0c\u81ea\u52a8\u627e\u5230Binding\u7684\u5bf9\u8c61\uff0c\u8fd9\u6837\u5b50\u7c7b\u53ea\u9700\u91cd\u5199bindData\u8fd9\u4e00\u6b65\u5373\u53ef\uff0c\u540c\u65f6\uff0c\u5b50\u7c7b\u7684render\u7559\u7a7a\uff0c\u4f8b\u5982\uff1a\n\n\npublic\n \nclass\n \nMainDataBindingViewModel\n \nextends\n \nDataBindingViewModel\nUser\n,\n \nActivityMainBinding\n \n{\n\n\n        \n@Override\n\n        \nprotected\n \nvoid\n \nbindData\n(\nUser\n \ndata\n)\n \n{\n\n            \nmViewDataBinding\n.\nsetUser\n(\ndata\n);\n\n        \n}\n\n\n        \n@Override\n\n        \npublic\n \nMainDataBindingViewModel\n \nrender\n()\n \n{\n\n            \nreturn\n \nthis\n;\n\n        \n}\n\n    \n}\n\n\n\n\n\n\nUser\u662f\u4e00\u4e2a\u5b9e\u73b0\u4e86BaseObserverable\u7684\u5b9e\u4f53\u7c7b\uff0c\u6bd4\u8f83\u666e\u901a\uff0c\u4e0b\u9762\u662fUser\u7c7b\uff1a\n\n\npublic\n \nclass\n \nUser\n \nextends\n \nBaseObservable\n \n{\n\n\n    \nString\n \nname\n;\n\n\n    \n@Bindable\n\n    \npublic\n \nString\n \ngetName\n()\n \n{\n\n        \nreturn\n \nname\n;\n\n    \n}\n\n\n    \npublic\n \nvoid\n \nsetName\n(\nString\n \nname\n)\n \n{\n\n        \nthis\n.\nname\n \n=\n \nname\n;\n\n        \nnotifyPropertyChanged\n(\nBR\n.\nname\n);\n\n    \n}\n\n\n    \npublic\n \nUser\n(){}\n\n\n    \npublic\n \nUser\n(\nString\n \nname\n){\n\n        \nthis\n.\nname\n \n=\n \nname\n;\n\n    \n}\n\n\n}\n\n\n\n\n\n\n\u642d\u914d\u7684\u754c\u9762Xml:\n\n\nlayout\n \nxmlns:android=\nhttp://schemas.android.com/apk/res/android\n\n        \nxmlns:app=\nhttp://schemas.android.com/apk/res-auto\n\n        \nxmlns:tools=\nhttp://schemas.android.com/tools\n\n\n    \ndata\n\n        \nvariable\n \nname=\nuser\n \ntype=\ncn.campusapp.sample_databinding.User\n/\n\n    \n/data\n\n\n    \nRelativeLayout\n\n        \nandroid:layout_width=\nmatch_parent\n\n        \nandroid:layout_height=\nmatch_parent\n\n        \n\n        \nTextView\n\n            \nandroid:layout_width=\nwrap_content\n\n            \nandroid:layout_height=\nwrap_content\n\n            \nandroid:text=\n@{user.name}\n/\n\n    \n/RelativeLayout\n\n\n/layout\n\n\n\n\n\n\n\u8fd9\u6837\uff0c\u642d\u914d\u7684Controller\u901a\u8fc7\u63a7\u5236mUser\u5bf9\u8c61\u7684field\uff0c\u8fbe\u5230\u81ea\u52a8\u5237\u65b0\u754c\u9762\u7684\u6548\u679c\u3002\u5982\u679c\u60f3\u8981\u5b9e\u73b0DataBinding\u4e2d\u7684onclick\uff0c\u4e5f\u6bd4\u8f83\u7b80\u5355\uff0c\u6309\u7167\u6587\u6863\u4ee3\u7406\u5230Controller\u5373\u53ef\uff0c\u53ef\u4ee5\u76f4\u63a5\u770b\n\u6e90\u7801\u4e2d\u7684sample-databinding\u6a21\u5757\n\uff0c\u5c31\u4e0d\u518d\u8d58\u8ff0\u3002", 
            "title": "\u96c6\u6210Data-Binding"
        }, 
        {
            "location": "/\u96c6\u6210Data-Binding/#data-binding", 
            "text": "\u5b98\u65b9\u7684Data-Binding\u662f\u4e00\u4e2a\u907f\u514d\u4e86\u53cd\u5c04\u7684MVVM\u7684\u5b9e\u73b0\u3002\u4e0d\u8fc7\u8bf4\u5b9e\u8bdd\uff0c\u4e2a\u4eba\u89c9\u5f97\u6bd4\u8f83\u9e21\u808b\u3002\u6e32\u67d3\u903b\u8f91\u5728\u5b9e\u9645\u7f16\u5199\u4e2d\uff0c\u6709\u5927\u91cf\u7684\u56fe\u7247\u52a0\u8f7d\u903b\u8f91\u3001\u81ea\u5b9a\u4e49View\u903b\u8f91\u7b49\u7b49\uff0c\u4ecd\u7136\u65e0\u6cd5\u5b8c\u5168\u7528Xml\u7684\u8868\u8fbe\u5f0f\u6765\u66ff\u4ee3\uff0c\u800c\u5fc5\u987b\u4f7f\u7528\u5404\u7c7bAttribute Setters, Converters\u3002\u8fd9\u610f\u5473\u7740\u6e32\u67d3\u903b\u8f91\u4f1a\u5b58\u5728\u4e8e \u4e24\u4e2a\u4ee5\u4e0a\u4f4d\u7f6e \uff0c\u8fd9\u5c06\u4f1a\u5bf9\u4ee3\u7801\u7684\u53ef\u7ef4\u62a4\u6027\u9020\u6210\u6781\u5927\u7684\u7834\u574f\uff0c\u56e0\u4e3a\u4e0d\u540c\u7684\u7a0b\u5e8f\u5458\u5bf9\u4e00\u4e2a\u6e32\u67d3\u6b65\u9aa4\u662f\u653e\u5728Java\u8fd8\u662f\u653e\u5728Xml\u4e2d\u7528\u8868\u8fbe\u5f0f\u6709\u7740\u4e0d\u540c\u7684\u7406\u89e3\u3002\u5bf9\u4e8e\u6bd4Reactjs\u8fd9\u79cdjs\u6846\u67b6\uff0c\u5176\u6e32\u67d3\u903b\u8f91\u548c\u6837\u5f0fHtml\u662f\u653e\u5728\u4e00\u5904\u7684\uff0c\u907f\u514d\u4e86\u8fd9\u4e2a\u95ee\u9898\u3002\u4e0e\u6b64\u540c\u65f6\uff0cData-Binding\u4e5f\u4e0d\u80fd\u89e3\u51b3Activity\u7684\u4ee3\u7801\u91cf\u8fc7\u5927\u7684\u95ee\u9898\uff0c\u53ea\u51cf\u5c11\u4e86\u90e8\u5206\u4ee3\u7801\uff0c\u540c\u65f6\u8ba9\u4e00\u5207\u53d8\u7684\u66f4\u6df7\u4e71\u4e86\u3002  Anyway\uff0c\u5982\u679c\u4f60\u786e\u5b9a\u60f3\u4f7f\u7528Data-Binding\uff0cPan\u4e5f\u4ecd\u7136\u652f\u6301\uff0c\u7a0d\u52a0\u6539\u9020\u5373\u53ef\u3002\u5b8c\u6574\u7684\u53ef\u8fd0\u884cSample\u53ef\u4ee5\u53c2\u8003 \u6e90\u7801\u4e2d\u7684sample-databinding\u6a21\u5757 \u3002  \u9996\u5148\uff0c\u6211\u4eec\u6dfb\u52a0\u4e00\u4e2aDataBindingViewModel\uff0c\u652f\u6301\u8bbe\u7f6eData\u548c\u5176Binding\uff1a  public   abstract   class   DataBindingViewModel D   extends   BaseObservable ,   B   extends   ViewDataBinding   extends   GeneralViewModel   { \n\n     protected   D   mData ; \n     protected   B   mViewDataBinding ; \n\n     public   DataBindingViewModel D ,   B   setData ( D   data ){ \n         mData   =   data ; \n         bindData ( data ); \n         return   this ; \n     } \n\n     public   D   getData (){ \n         return   mData ; \n     } \n\n     protected   abstract   void   bindData ( D   data ); \n\n     @Override \n     protected   void   onInit ()   { \n         super . onInit (); \n         mViewDataBinding   =   DataBindingUtil . bind ( getRootView ()); \n     }  }   \u5728onInit\u7684\u65f6\u5019\uff0c\u81ea\u52a8\u627e\u5230Binding\u7684\u5bf9\u8c61\uff0c\u8fd9\u6837\u5b50\u7c7b\u53ea\u9700\u91cd\u5199bindData\u8fd9\u4e00\u6b65\u5373\u53ef\uff0c\u540c\u65f6\uff0c\u5b50\u7c7b\u7684render\u7559\u7a7a\uff0c\u4f8b\u5982\uff1a  public   class   MainDataBindingViewModel   extends   DataBindingViewModel User ,   ActivityMainBinding   { \n\n         @Override \n         protected   void   bindData ( User   data )   { \n             mViewDataBinding . setUser ( data ); \n         } \n\n         @Override \n         public   MainDataBindingViewModel   render ()   { \n             return   this ; \n         } \n     }   User\u662f\u4e00\u4e2a\u5b9e\u73b0\u4e86BaseObserverable\u7684\u5b9e\u4f53\u7c7b\uff0c\u6bd4\u8f83\u666e\u901a\uff0c\u4e0b\u9762\u662fUser\u7c7b\uff1a  public   class   User   extends   BaseObservable   { \n\n     String   name ; \n\n     @Bindable \n     public   String   getName ()   { \n         return   name ; \n     } \n\n     public   void   setName ( String   name )   { \n         this . name   =   name ; \n         notifyPropertyChanged ( BR . name ); \n     } \n\n     public   User (){} \n\n     public   User ( String   name ){ \n         this . name   =   name ; \n     }  }   \u642d\u914d\u7684\u754c\u9762Xml:  layout   xmlns:android= http://schemas.android.com/apk/res/android \n         xmlns:app= http://schemas.android.com/apk/res-auto \n         xmlns:tools= http://schemas.android.com/tools \n\n     data \n         variable   name= user   type= cn.campusapp.sample_databinding.User / \n     /data \n\n     RelativeLayout \n         android:layout_width= match_parent \n         android:layout_height= match_parent \n         \n         TextView \n             android:layout_width= wrap_content \n             android:layout_height= wrap_content \n             android:text= @{user.name} / \n     /RelativeLayout  /layout   \u8fd9\u6837\uff0c\u642d\u914d\u7684Controller\u901a\u8fc7\u63a7\u5236mUser\u5bf9\u8c61\u7684field\uff0c\u8fbe\u5230\u81ea\u52a8\u5237\u65b0\u754c\u9762\u7684\u6548\u679c\u3002\u5982\u679c\u60f3\u8981\u5b9e\u73b0DataBinding\u4e2d\u7684onclick\uff0c\u4e5f\u6bd4\u8f83\u7b80\u5355\uff0c\u6309\u7167\u6587\u6863\u4ee3\u7406\u5230Controller\u5373\u53ef\uff0c\u53ef\u4ee5\u76f4\u63a5\u770b \u6e90\u7801\u4e2d\u7684sample-databinding\u6a21\u5757 \uff0c\u5c31\u4e0d\u518d\u8d58\u8ff0\u3002", 
            "title": "\u96c6\u6210\u5b98\u65b9\u7684Data-Binding"
        }, 
        {
            "location": "/\u5e38\u89c1\u95ee\u9898/", 
            "text": "\u5e38\u89c1\u95ee\u9898 Q\nA\n\n\nViewModel\u4ec0\u4e48\u65f6\u5019\u88ab\u9500\u6bc1\uff1f\n\n\n//TODO\n\n\n\u4e3a\u4ec0\u4e48\u6ca1\u6709\u76d1\u63a7OnCreate\u751f\u547d\u5468\u671f\uff1f\n\n\n//TODO\n\n\n\u5168\u91cf\u5237\u65b0\u548c\u5c40\u90e8\u5237\u65b0\uff1f\n\n\n//TODO\n\u5bf9\u4e8e\u4e00\u4e2aViewModel\u662f\u5168\u91cf\u5237\u65b0\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u9875\u9762\uff0c\u5404\u4e2a\u90e8\u4f4d\u7684ViewModel\u5c40\u90e8\u5237\u65b0\u3002\n\n\nRxJava\uff1f\n\n\n//TODO", 
            "title": "\u5e38\u89c1\u95ee\u9898"
        }, 
        {
            "location": "/\u5e38\u89c1\u95ee\u9898/#qa", 
            "text": "", 
            "title": "\u5e38\u89c1\u95ee\u9898 Q&amp;A"
        }, 
        {
            "location": "/\u5e38\u89c1\u95ee\u9898/#viewmodel", 
            "text": "//TODO", 
            "title": "ViewModel\u4ec0\u4e48\u65f6\u5019\u88ab\u9500\u6bc1\uff1f"
        }, 
        {
            "location": "/\u5e38\u89c1\u95ee\u9898/#oncreate", 
            "text": "//TODO", 
            "title": "\u4e3a\u4ec0\u4e48\u6ca1\u6709\u76d1\u63a7OnCreate\u751f\u547d\u5468\u671f\uff1f"
        }, 
        {
            "location": "/\u5e38\u89c1\u95ee\u9898/#_1", 
            "text": "//TODO\n\u5bf9\u4e8e\u4e00\u4e2aViewModel\u662f\u5168\u91cf\u5237\u65b0\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u9875\u9762\uff0c\u5404\u4e2a\u90e8\u4f4d\u7684ViewModel\u5c40\u90e8\u5237\u65b0\u3002", 
            "title": "\u5168\u91cf\u5237\u65b0\u548c\u5c40\u90e8\u5237\u65b0\uff1f"
        }, 
        {
            "location": "/\u5e38\u89c1\u95ee\u9898/#rxjava", 
            "text": "//TODO", 
            "title": "RxJava\uff1f"
        }
    ]
}